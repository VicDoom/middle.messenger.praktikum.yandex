(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const p of document.querySelectorAll('link[rel="modulepreload"]'))n(p);new MutationObserver(p=>{for(const h of p)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&n(d)}).observe(document,{childList:!0,subtree:!0});function r(p){const h={};return p.integrity&&(h.integrity=p.integrity),p.referrerPolicy&&(h.referrerPolicy=p.referrerPolicy),p.crossOrigin==="use-credentials"?h.credentials="include":p.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function n(p){if(p.ep)return;p.ep=!0;const h=r(p);fetch(p.href,h)}})();class Lt{constructor(){this.listeners={}}on(e,r){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(r)}off(e,r){if(!this.listeners[e])throw new Error(`Нет события: ${e}`);this.listeners[e]=this.listeners[e].filter(n=>n!==r)}emit(e,...r){this.listeners[e]&&this.listeners[e].forEach(function(n){n(...r)})}}let Kt=(t=21)=>crypto.getRandomValues(new Uint8Array(t)).reduce((e,r)=>(r&=63,r<36?e+=r.toString(36):r<62?e+=(r-26).toString(36).toUpperCase():r>62?e+="-":e+="_",e),"");function zt(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Pe={exports:{}},xe={exports:{}},D={},x={};x.__esModule=!0;x.extend=Pt;x.indexOf=jt;x.escapeExpression=Xt;x.isEmpty=$t;x.createFrame=er;x.blockParams=tr;x.appendContextPath=rr;var Yt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","=":"&#x3D;"},Zt=/[&<>"'`=]/g,Qt=/[&<>"'`=]/;function Jt(t){return Yt[t]}function Pt(t){for(var e=1;e<arguments.length;e++)for(var r in arguments[e])Object.prototype.hasOwnProperty.call(arguments[e],r)&&(t[r]=arguments[e][r]);return t}var $e=Object.prototype.toString;x.toString=$e;var Me=function(e){return typeof e=="function"};Me(/x/)&&(x.isFunction=Me=function(t){return typeof t=="function"&&$e.call(t)==="[object Function]"});x.isFunction=Me;var xt=Array.isArray||function(t){return t&&typeof t=="object"?$e.call(t)==="[object Array]":!1};x.isArray=xt;function jt(t,e){for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}function Xt(t){if(typeof t!="string"){if(t&&t.toHTML)return t.toHTML();if(t==null)return"";if(!t)return t+"";t=""+t}return Qt.test(t)?t.replace(Zt,Jt):t}function $t(t){return!t&&t!==0?!0:!!(xt(t)&&t.length===0)}function er(t){var e=Pt({},t);return e._parent=t,e}function tr(t,e){return t.path=e,t}function rr(t,e){return(t?t+".":"")+e}var Ae={exports:{}};(function(t,e){e.__esModule=!0;var r=["description","fileName","lineNumber","endLineNumber","message","name","number","stack"];function n(p,h){var d=h&&h.loc,u=void 0,a=void 0,c=void 0,o=void 0;d&&(u=d.start.line,a=d.end.line,c=d.start.column,o=d.end.column,p+=" - "+u+":"+c);for(var f=Error.prototype.constructor.call(this,p),i=0;i<r.length;i++)this[r[i]]=f[r[i]];Error.captureStackTrace&&Error.captureStackTrace(this,n);try{d&&(this.lineNumber=u,this.endLineNumber=a,Object.defineProperty?(Object.defineProperty(this,"column",{value:c,enumerable:!0}),Object.defineProperty(this,"endColumn",{value:o,enumerable:!0})):(this.column=c,this.endColumn=o))}catch{}}n.prototype=new Error,e.default=n,t.exports=e.default})(Ae,Ae.exports);var B=Ae.exports,re={},Oe={exports:{}};(function(t,e){e.__esModule=!0;var r=x;e.default=function(n){n.registerHelper("blockHelperMissing",function(p,h){var d=h.inverse,u=h.fn;if(p===!0)return u(this);if(p===!1||p==null)return d(this);if(r.isArray(p))return p.length>0?(h.ids&&(h.ids=[h.name]),n.helpers.each(p,h)):d(this);if(h.data&&h.ids){var a=r.createFrame(h.data);a.contextPath=r.appendContextPath(h.data.contextPath,h.name),h={data:a}}return u(p,h)})},t.exports=e.default})(Oe,Oe.exports);var nr=Oe.exports,Ne={exports:{}};(function(t,e){e.__esModule=!0;function r(d){return d&&d.__esModule?d:{default:d}}var n=x,p=B,h=r(p);e.default=function(d){d.registerHelper("each",function(u,a){if(!a)throw new h.default("Must pass iterator to #each");var c=a.fn,o=a.inverse,f=0,i="",l=void 0,s=void 0;a.data&&a.ids&&(s=n.appendContextPath(a.data.contextPath,a.ids[0])+"."),n.isFunction(u)&&(u=u.call(this)),a.data&&(l=n.createFrame(a.data));function g(m,y,C){l&&(l.key=m,l.index=y,l.first=y===0,l.last=!!C,s&&(l.contextPath=s+m)),i=i+c(u[m],{data:l,blockParams:n.blockParams([u[m],m],[s+m,null])})}if(u&&typeof u=="object")if(n.isArray(u))for(var v=u.length;f<v;f++)f in u&&g(f,f,f===u.length-1);else if(typeof Symbol=="function"&&u[Symbol.iterator]){for(var w=[],_=u[Symbol.iterator](),S=_.next();!S.done;S=_.next())w.push(S.value);u=w;for(var v=u.length;f<v;f++)g(f,f,f===u.length-1)}else(function(){var m=void 0;Object.keys(u).forEach(function(y){m!==void 0&&g(m,f-1),m=y,f++}),m!==void 0&&g(m,f-1,!0)})();return f===0&&(i=o(this)),i})},t.exports=e.default})(Ne,Ne.exports);var ir=Ne.exports,Ie={exports:{}};(function(t,e){e.__esModule=!0;function r(h){return h&&h.__esModule?h:{default:h}}var n=B,p=r(n);e.default=function(h){h.registerHelper("helperMissing",function(){if(arguments.length!==1)throw new p.default('Missing helper: "'+arguments[arguments.length-1].name+'"')})},t.exports=e.default})(Ie,Ie.exports);var sr=Ie.exports,De={exports:{}};(function(t,e){e.__esModule=!0;function r(d){return d&&d.__esModule?d:{default:d}}var n=x,p=B,h=r(p);e.default=function(d){d.registerHelper("if",function(u,a){if(arguments.length!=2)throw new h.default("#if requires exactly one argument");return n.isFunction(u)&&(u=u.call(this)),!a.hash.includeZero&&!u||n.isEmpty(u)?a.inverse(this):a.fn(this)}),d.registerHelper("unless",function(u,a){if(arguments.length!=2)throw new h.default("#unless requires exactly one argument");return d.helpers.if.call(this,u,{fn:a.inverse,inverse:a.fn,hash:a.hash})})},t.exports=e.default})(De,De.exports);var ar=De.exports,Re={exports:{}};(function(t,e){e.__esModule=!0,e.default=function(r){r.registerHelper("log",function(){for(var n=[void 0],p=arguments[arguments.length-1],h=0;h<arguments.length-1;h++)n.push(arguments[h]);var d=1;p.hash.level!=null?d=p.hash.level:p.data&&p.data.level!=null&&(d=p.data.level),n[0]=d,r.log.apply(r,n)})},t.exports=e.default})(Re,Re.exports);var or=Re.exports,Be={exports:{}};(function(t,e){e.__esModule=!0,e.default=function(r){r.registerHelper("lookup",function(n,p,h){return n&&h.lookupProperty(n,p)})},t.exports=e.default})(Be,Be.exports);var lr=Be.exports,Te={exports:{}};(function(t,e){e.__esModule=!0;function r(d){return d&&d.__esModule?d:{default:d}}var n=x,p=B,h=r(p);e.default=function(d){d.registerHelper("with",function(u,a){if(arguments.length!=2)throw new h.default("#with requires exactly one argument");n.isFunction(u)&&(u=u.call(this));var c=a.fn;if(n.isEmpty(u))return a.inverse(this);var o=a.data;return a.data&&a.ids&&(o=n.createFrame(a.data),o.contextPath=n.appendContextPath(a.data.contextPath,a.ids[0])),c(u,{data:o,blockParams:n.blockParams([u],[o&&o.contextPath])})})},t.exports=e.default})(Te,Te.exports);var ur=Te.exports;re.__esModule=!0;re.registerDefaultHelpers=kr;re.moveHelperToHooks=Er;function K(t){return t&&t.__esModule?t:{default:t}}var cr=nr,pr=K(cr),hr=ir,dr=K(hr),fr=sr,gr=K(fr),mr=ar,vr=K(mr),_r=or,yr=K(_r),wr=lr,Sr=K(wr),br=ur,Cr=K(br);function kr(t){pr.default(t),dr.default(t),gr.default(t),vr.default(t),yr.default(t),Sr.default(t),Cr.default(t)}function Er(t,e,r){t.helpers[e]&&(t.hooks[e]=t.helpers[e],r||delete t.helpers[e])}var et={},He={exports:{}};(function(t,e){e.__esModule=!0;var r=x;e.default=function(n){n.registerDecorator("inline",function(p,h,d,u){var a=p;return h.partials||(h.partials={},a=function(c,o){var f=d.partials;d.partials=r.extend({},f,h.partials);var i=p(c,o);return d.partials=f,i}),h.partials[u.args[0]]=u.fn,a})},t.exports=e.default})(He,He.exports);var Lr=He.exports;et.__esModule=!0;et.registerDefaultDecorators=Ar;function Pr(t){return t&&t.__esModule?t:{default:t}}var xr=Lr,Mr=Pr(xr);function Ar(t){Mr.default(t)}var qe={exports:{}};(function(t,e){e.__esModule=!0;var r=x,n={methodMap:["debug","info","warn","error"],level:"info",lookupLevel:function(h){if(typeof h=="string"){var d=r.indexOf(n.methodMap,h.toLowerCase());d>=0?h=d:h=parseInt(h,10)}return h},log:function(h){if(h=n.lookupLevel(h),typeof console<"u"&&n.lookupLevel(n.level)<=h){var d=n.methodMap[h];console[d]||(d="log");for(var u=arguments.length,a=Array(u>1?u-1:0),c=1;c<u;c++)a[c-1]=arguments[c];console[d].apply(console,a)}}};e.default=n,t.exports=e.default})(qe,qe.exports);var Mt=qe.exports,Z={},tt={};tt.__esModule=!0;tt.createNewLookupObject=Nr;var Or=x;function Nr(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return Or.extend.apply(void 0,[Object.create(null)].concat(e))}Z.__esModule=!0;Z.createProtoAccessControl=Br;Z.resultIsAllowed=Tr;Z.resetLoggedProperties=qr;function Ir(t){return t&&t.__esModule?t:{default:t}}var ot=tt,Dr=Mt,Rr=Ir(Dr),he=Object.create(null);function Br(t){var e=Object.create(null);e.constructor=!1,e.__defineGetter__=!1,e.__defineSetter__=!1,e.__lookupGetter__=!1;var r=Object.create(null);return r.__proto__=!1,{properties:{whitelist:ot.createNewLookupObject(r,t.allowedProtoProperties),defaultValue:t.allowProtoPropertiesByDefault},methods:{whitelist:ot.createNewLookupObject(e,t.allowedProtoMethods),defaultValue:t.allowProtoMethodsByDefault}}}function Tr(t,e,r){return lt(typeof t=="function"?e.methods:e.properties,r)}function lt(t,e){return t.whitelist[e]!==void 0?t.whitelist[e]===!0:t.defaultValue!==void 0?t.defaultValue:(Hr(e),!1)}function Hr(t){he[t]!==!0&&(he[t]=!0,Rr.default.log("error",'Handlebars: Access has been denied to resolve the property "'+t+`" because it is not an "own property" of its parent.
You can add a runtime option to disable the check or this warning:
See https://handlebarsjs.com/api-reference/runtime-options.html#options-to-control-prototype-access for details`))}function qr(){Object.keys(he).forEach(function(t){delete he[t]})}D.__esModule=!0;D.HandlebarsEnvironment=Ue;function At(t){return t&&t.__esModule?t:{default:t}}var W=x,Ur=B,me=At(Ur),Fr=re,Vr=et,Wr=Mt,de=At(Wr),Gr=Z,Kr="4.7.8";D.VERSION=Kr;var zr=8;D.COMPILER_REVISION=zr;var Yr=7;D.LAST_COMPATIBLE_COMPILER_REVISION=Yr;var Zr={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1",7:">= 4.0.0 <4.3.0",8:">= 4.3.0"};D.REVISION_CHANGES=Zr;var ve="[object Object]";function Ue(t,e,r){this.helpers=t||{},this.partials=e||{},this.decorators=r||{},Fr.registerDefaultHelpers(this),Vr.registerDefaultDecorators(this)}Ue.prototype={constructor:Ue,logger:de.default,log:de.default.log,registerHelper:function(e,r){if(W.toString.call(e)===ve){if(r)throw new me.default("Arg not supported with multiple helpers");W.extend(this.helpers,e)}else this.helpers[e]=r},unregisterHelper:function(e){delete this.helpers[e]},registerPartial:function(e,r){if(W.toString.call(e)===ve)W.extend(this.partials,e);else{if(typeof r>"u")throw new me.default('Attempting to register a partial called "'+e+'" as undefined');this.partials[e]=r}},unregisterPartial:function(e){delete this.partials[e]},registerDecorator:function(e,r){if(W.toString.call(e)===ve){if(r)throw new me.default("Arg not supported with multiple decorators");W.extend(this.decorators,e)}else this.decorators[e]=r},unregisterDecorator:function(e){delete this.decorators[e]},resetLoggedPropertyAccesses:function(){Gr.resetLoggedProperties()}};var Qr=de.default.log;D.log=Qr;D.createFrame=W.createFrame;D.logger=de.default;var Fe={exports:{}};(function(t,e){e.__esModule=!0;function r(n){this.string=n}r.prototype.toString=r.prototype.toHTML=function(){return""+this.string},e.default=r,t.exports=e.default})(Fe,Fe.exports);var Jr=Fe.exports,V={},rt={};rt.__esModule=!0;rt.wrapHelper=jr;function jr(t,e){if(typeof t!="function")return t;var r=function(){var p=arguments[arguments.length-1];return arguments[arguments.length-1]=e(p),t.apply(this,arguments)};return r}V.__esModule=!0;V.checkRevision=nn;V.template=sn;V.wrapProgram=ce;V.resolvePartial=an;V.invokePartial=on;V.noop=Ot;function Xr(t){return t&&t.__esModule?t:{default:t}}function $r(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}var en=x,T=$r(en),tn=B,H=Xr(tn),q=D,ut=re,rn=rt,ct=Z;function nn(t){var e=t&&t[0]||1,r=q.COMPILER_REVISION;if(!(e>=q.LAST_COMPATIBLE_COMPILER_REVISION&&e<=q.COMPILER_REVISION))if(e<q.LAST_COMPATIBLE_COMPILER_REVISION){var n=q.REVISION_CHANGES[r],p=q.REVISION_CHANGES[e];throw new H.default("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+n+") or downgrade your runtime to an older version ("+p+").")}else throw new H.default("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+t[1]+").")}function sn(t,e){if(!e)throw new H.default("No environment passed to template");if(!t||!t.main)throw new H.default("Unknown template object: "+typeof t);t.main.decorator=t.main_d,e.VM.checkRevision(t.compiler);var r=t.compiler&&t.compiler[0]===7;function n(d,u,a){a.hash&&(u=T.extend({},u,a.hash),a.ids&&(a.ids[0]=!0)),d=e.VM.resolvePartial.call(this,d,u,a);var c=T.extend({},a,{hooks:this.hooks,protoAccessControl:this.protoAccessControl}),o=e.VM.invokePartial.call(this,d,u,c);if(o==null&&e.compile&&(a.partials[a.name]=e.compile(d,t.compilerOptions,e),o=a.partials[a.name](u,c)),o!=null){if(a.indent){for(var f=o.split(`
`),i=0,l=f.length;i<l&&!(!f[i]&&i+1===l);i++)f[i]=a.indent+f[i];o=f.join(`
`)}return o}else throw new H.default("The partial "+a.name+" could not be compiled when running in runtime-only mode")}var p={strict:function(u,a,c){if(!u||!(a in u))throw new H.default('"'+a+'" not defined in '+u,{loc:c});return p.lookupProperty(u,a)},lookupProperty:function(u,a){var c=u[a];if(c==null||Object.prototype.hasOwnProperty.call(u,a)||ct.resultIsAllowed(c,p.protoAccessControl,a))return c},lookup:function(u,a){for(var c=u.length,o=0;o<c;o++){var f=u[o]&&p.lookupProperty(u[o],a);if(f!=null)return u[o][a]}},lambda:function(u,a){return typeof u=="function"?u.call(a):u},escapeExpression:T.escapeExpression,invokePartial:n,fn:function(u){var a=t[u];return a.decorator=t[u+"_d"],a},programs:[],program:function(u,a,c,o,f){var i=this.programs[u],l=this.fn(u);return a||f||o||c?i=ce(this,u,l,a,c,o,f):i||(i=this.programs[u]=ce(this,u,l)),i},data:function(u,a){for(;u&&a--;)u=u._parent;return u},mergeIfNeeded:function(u,a){var c=u||a;return u&&a&&u!==a&&(c=T.extend({},a,u)),c},nullContext:Object.seal({}),noop:e.VM.noop,compilerInfo:t.compiler};function h(d){var u=arguments.length<=1||arguments[1]===void 0?{}:arguments[1],a=u.data;h._setup(u),!u.partial&&t.useData&&(a=ln(d,a));var c=void 0,o=t.useBlockParams?[]:void 0;t.useDepths&&(u.depths?c=d!=u.depths[0]?[d].concat(u.depths):u.depths:c=[d]);function f(i){return""+t.main(p,i,p.helpers,p.partials,a,o,c)}return f=Nt(t.main,f,p,u.depths||[],a,o),f(d,u)}return h.isTop=!0,h._setup=function(d){if(d.partial)p.protoAccessControl=d.protoAccessControl,p.helpers=d.helpers,p.partials=d.partials,p.decorators=d.decorators,p.hooks=d.hooks;else{var u=T.extend({},e.helpers,d.helpers);un(u,p),p.helpers=u,t.usePartial&&(p.partials=p.mergeIfNeeded(d.partials,e.partials)),(t.usePartial||t.useDecorators)&&(p.decorators=T.extend({},e.decorators,d.decorators)),p.hooks={},p.protoAccessControl=ct.createProtoAccessControl(d);var a=d.allowCallsToHelperMissing||r;ut.moveHelperToHooks(p,"helperMissing",a),ut.moveHelperToHooks(p,"blockHelperMissing",a)}},h._child=function(d,u,a,c){if(t.useBlockParams&&!a)throw new H.default("must pass block params");if(t.useDepths&&!c)throw new H.default("must pass parent depths");return ce(p,d,t[d],u,0,a,c)},h}function ce(t,e,r,n,p,h,d){function u(a){var c=arguments.length<=1||arguments[1]===void 0?{}:arguments[1],o=d;return d&&a!=d[0]&&!(a===t.nullContext&&d[0]===null)&&(o=[a].concat(d)),r(t,a,t.helpers,t.partials,c.data||n,h&&[c.blockParams].concat(h),o)}return u=Nt(r,u,t,d,n,h),u.program=e,u.depth=d?d.length:0,u.blockParams=p||0,u}function an(t,e,r){return t?!t.call&&!r.name&&(r.name=t,t=r.partials[t]):r.name==="@partial-block"?t=r.data["partial-block"]:t=r.partials[r.name],t}function on(t,e,r){var n=r.data&&r.data["partial-block"];r.partial=!0,r.ids&&(r.data.contextPath=r.ids[0]||r.data.contextPath);var p=void 0;if(r.fn&&r.fn!==Ot&&function(){r.data=q.createFrame(r.data);var h=r.fn;p=r.data["partial-block"]=function(u){var a=arguments.length<=1||arguments[1]===void 0?{}:arguments[1];return a.data=q.createFrame(a.data),a.data["partial-block"]=n,h(u,a)},h.partials&&(r.partials=T.extend({},r.partials,h.partials))}(),t===void 0&&p&&(t=p),t===void 0)throw new H.default("The partial "+r.name+" could not be found");if(t instanceof Function)return t(e,r)}function Ot(){return""}function ln(t,e){return(!e||!("root"in e))&&(e=e?q.createFrame(e):{},e.root=t),e}function Nt(t,e,r,n,p,h){if(t.decorator){var d={};e=t.decorator(e,d,r,n&&n[0],p,h,n),T.extend(e,d)}return e}function un(t,e){Object.keys(t).forEach(function(r){var n=t[r];t[r]=cn(n,e)})}function cn(t,e){var r=e.lookupProperty;return rn.wrapHelper(t,function(n){return T.extend({lookupProperty:r},n)})}var Ve={exports:{}};(function(t,e){e.__esModule=!0,e.default=function(r){(function(){typeof globalThis!="object"&&(Object.prototype.__defineGetter__("__magic__",function(){return this}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__)})();var n=globalThis.Handlebars;r.noConflict=function(){return globalThis.Handlebars===r&&(globalThis.Handlebars=n),r}},t.exports=e.default})(Ve,Ve.exports);var It=Ve.exports;(function(t,e){e.__esModule=!0;function r(_){return _&&_.__esModule?_:{default:_}}function n(_){if(_&&_.__esModule)return _;var S={};if(_!=null)for(var m in _)Object.prototype.hasOwnProperty.call(_,m)&&(S[m]=_[m]);return S.default=_,S}var p=D,h=n(p),d=Jr,u=r(d),a=B,c=r(a),o=x,f=n(o),i=V,l=n(i),s=It,g=r(s);function v(){var _=new h.HandlebarsEnvironment;return f.extend(_,h),_.SafeString=u.default,_.Exception=c.default,_.Utils=f,_.escapeExpression=f.escapeExpression,_.VM=l,_.template=function(S){return l.template(S,_)},_}var w=v();w.create=v,g.default(w),w.default=w,e.default=w,t.exports=e.default})(xe,xe.exports);var pn=xe.exports,We={exports:{}};(function(t,e){e.__esModule=!0;var r={helpers:{helperExpression:function(p){return p.type==="SubExpression"||(p.type==="MustacheStatement"||p.type==="BlockStatement")&&!!(p.params&&p.params.length||p.hash)},scopedId:function(p){return/^\.|this\b/.test(p.original)},simpleId:function(p){return p.parts.length===1&&!r.helpers.scopedId(p)&&!p.depth}}};e.default=r,t.exports=e.default})(We,We.exports);var Dt=We.exports,ne={},Ge={exports:{}};(function(t,e){e.__esModule=!0;var r=function(){var n={trace:function(){},yy:{},symbols_:{error:2,root:3,program:4,EOF:5,program_repetition0:6,statement:7,mustache:8,block:9,rawBlock:10,partial:11,partialBlock:12,content:13,COMMENT:14,CONTENT:15,openRawBlock:16,rawBlock_repetition0:17,END_RAW_BLOCK:18,OPEN_RAW_BLOCK:19,helperName:20,openRawBlock_repetition0:21,openRawBlock_option0:22,CLOSE_RAW_BLOCK:23,openBlock:24,block_option0:25,closeBlock:26,openInverse:27,block_option1:28,OPEN_BLOCK:29,openBlock_repetition0:30,openBlock_option0:31,openBlock_option1:32,CLOSE:33,OPEN_INVERSE:34,openInverse_repetition0:35,openInverse_option0:36,openInverse_option1:37,openInverseChain:38,OPEN_INVERSE_CHAIN:39,openInverseChain_repetition0:40,openInverseChain_option0:41,openInverseChain_option1:42,inverseAndProgram:43,INVERSE:44,inverseChain:45,inverseChain_option0:46,OPEN_ENDBLOCK:47,OPEN:48,mustache_repetition0:49,mustache_option0:50,OPEN_UNESCAPED:51,mustache_repetition1:52,mustache_option1:53,CLOSE_UNESCAPED:54,OPEN_PARTIAL:55,partialName:56,partial_repetition0:57,partial_option0:58,openPartialBlock:59,OPEN_PARTIAL_BLOCK:60,openPartialBlock_repetition0:61,openPartialBlock_option0:62,param:63,sexpr:64,OPEN_SEXPR:65,sexpr_repetition0:66,sexpr_option0:67,CLOSE_SEXPR:68,hash:69,hash_repetition_plus0:70,hashSegment:71,ID:72,EQUALS:73,blockParams:74,OPEN_BLOCK_PARAMS:75,blockParams_repetition_plus0:76,CLOSE_BLOCK_PARAMS:77,path:78,dataName:79,STRING:80,NUMBER:81,BOOLEAN:82,UNDEFINED:83,NULL:84,DATA:85,pathSegments:86,SEP:87,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",14:"COMMENT",15:"CONTENT",18:"END_RAW_BLOCK",19:"OPEN_RAW_BLOCK",23:"CLOSE_RAW_BLOCK",29:"OPEN_BLOCK",33:"CLOSE",34:"OPEN_INVERSE",39:"OPEN_INVERSE_CHAIN",44:"INVERSE",47:"OPEN_ENDBLOCK",48:"OPEN",51:"OPEN_UNESCAPED",54:"CLOSE_UNESCAPED",55:"OPEN_PARTIAL",60:"OPEN_PARTIAL_BLOCK",65:"OPEN_SEXPR",68:"CLOSE_SEXPR",72:"ID",73:"EQUALS",75:"OPEN_BLOCK_PARAMS",77:"CLOSE_BLOCK_PARAMS",80:"STRING",81:"NUMBER",82:"BOOLEAN",83:"UNDEFINED",84:"NULL",85:"DATA",87:"SEP"},productions_:[0,[3,2],[4,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[13,1],[10,3],[16,5],[9,4],[9,4],[24,6],[27,6],[38,6],[43,2],[45,3],[45,1],[26,3],[8,5],[8,5],[11,5],[12,3],[59,5],[63,1],[63,1],[64,5],[69,1],[71,3],[74,3],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[56,1],[56,1],[79,2],[78,1],[86,3],[86,1],[6,0],[6,2],[17,0],[17,2],[21,0],[21,2],[22,0],[22,1],[25,0],[25,1],[28,0],[28,1],[30,0],[30,2],[31,0],[31,1],[32,0],[32,1],[35,0],[35,2],[36,0],[36,1],[37,0],[37,1],[40,0],[40,2],[41,0],[41,1],[42,0],[42,1],[46,0],[46,1],[49,0],[49,2],[50,0],[50,1],[52,0],[52,2],[53,0],[53,1],[57,0],[57,2],[58,0],[58,1],[61,0],[61,2],[62,0],[62,1],[66,0],[66,2],[67,0],[67,1],[70,1],[70,2],[76,1],[76,2]],performAction:function(u,a,c,o,f,i,l){var s=i.length-1;switch(f){case 1:return i[s-1];case 2:this.$=o.prepareProgram(i[s]);break;case 3:this.$=i[s];break;case 4:this.$=i[s];break;case 5:this.$=i[s];break;case 6:this.$=i[s];break;case 7:this.$=i[s];break;case 8:this.$=i[s];break;case 9:this.$={type:"CommentStatement",value:o.stripComment(i[s]),strip:o.stripFlags(i[s],i[s]),loc:o.locInfo(this._$)};break;case 10:this.$={type:"ContentStatement",original:i[s],value:i[s],loc:o.locInfo(this._$)};break;case 11:this.$=o.prepareRawBlock(i[s-2],i[s-1],i[s],this._$);break;case 12:this.$={path:i[s-3],params:i[s-2],hash:i[s-1]};break;case 13:this.$=o.prepareBlock(i[s-3],i[s-2],i[s-1],i[s],!1,this._$);break;case 14:this.$=o.prepareBlock(i[s-3],i[s-2],i[s-1],i[s],!0,this._$);break;case 15:this.$={open:i[s-5],path:i[s-4],params:i[s-3],hash:i[s-2],blockParams:i[s-1],strip:o.stripFlags(i[s-5],i[s])};break;case 16:this.$={path:i[s-4],params:i[s-3],hash:i[s-2],blockParams:i[s-1],strip:o.stripFlags(i[s-5],i[s])};break;case 17:this.$={path:i[s-4],params:i[s-3],hash:i[s-2],blockParams:i[s-1],strip:o.stripFlags(i[s-5],i[s])};break;case 18:this.$={strip:o.stripFlags(i[s-1],i[s-1]),program:i[s]};break;case 19:var g=o.prepareBlock(i[s-2],i[s-1],i[s],i[s],!1,this._$),v=o.prepareProgram([g],i[s-1].loc);v.chained=!0,this.$={strip:i[s-2].strip,program:v,chain:!0};break;case 20:this.$=i[s];break;case 21:this.$={path:i[s-1],strip:o.stripFlags(i[s-2],i[s])};break;case 22:this.$=o.prepareMustache(i[s-3],i[s-2],i[s-1],i[s-4],o.stripFlags(i[s-4],i[s]),this._$);break;case 23:this.$=o.prepareMustache(i[s-3],i[s-2],i[s-1],i[s-4],o.stripFlags(i[s-4],i[s]),this._$);break;case 24:this.$={type:"PartialStatement",name:i[s-3],params:i[s-2],hash:i[s-1],indent:"",strip:o.stripFlags(i[s-4],i[s]),loc:o.locInfo(this._$)};break;case 25:this.$=o.preparePartialBlock(i[s-2],i[s-1],i[s],this._$);break;case 26:this.$={path:i[s-3],params:i[s-2],hash:i[s-1],strip:o.stripFlags(i[s-4],i[s])};break;case 27:this.$=i[s];break;case 28:this.$=i[s];break;case 29:this.$={type:"SubExpression",path:i[s-3],params:i[s-2],hash:i[s-1],loc:o.locInfo(this._$)};break;case 30:this.$={type:"Hash",pairs:i[s],loc:o.locInfo(this._$)};break;case 31:this.$={type:"HashPair",key:o.id(i[s-2]),value:i[s],loc:o.locInfo(this._$)};break;case 32:this.$=o.id(i[s-1]);break;case 33:this.$=i[s];break;case 34:this.$=i[s];break;case 35:this.$={type:"StringLiteral",value:i[s],original:i[s],loc:o.locInfo(this._$)};break;case 36:this.$={type:"NumberLiteral",value:Number(i[s]),original:Number(i[s]),loc:o.locInfo(this._$)};break;case 37:this.$={type:"BooleanLiteral",value:i[s]==="true",original:i[s]==="true",loc:o.locInfo(this._$)};break;case 38:this.$={type:"UndefinedLiteral",original:void 0,value:void 0,loc:o.locInfo(this._$)};break;case 39:this.$={type:"NullLiteral",original:null,value:null,loc:o.locInfo(this._$)};break;case 40:this.$=i[s];break;case 41:this.$=i[s];break;case 42:this.$=o.preparePath(!0,i[s],this._$);break;case 43:this.$=o.preparePath(!1,i[s],this._$);break;case 44:i[s-2].push({part:o.id(i[s]),original:i[s],separator:i[s-1]}),this.$=i[s-2];break;case 45:this.$=[{part:o.id(i[s]),original:i[s]}];break;case 46:this.$=[];break;case 47:i[s-1].push(i[s]);break;case 48:this.$=[];break;case 49:i[s-1].push(i[s]);break;case 50:this.$=[];break;case 51:i[s-1].push(i[s]);break;case 58:this.$=[];break;case 59:i[s-1].push(i[s]);break;case 64:this.$=[];break;case 65:i[s-1].push(i[s]);break;case 70:this.$=[];break;case 71:i[s-1].push(i[s]);break;case 78:this.$=[];break;case 79:i[s-1].push(i[s]);break;case 82:this.$=[];break;case 83:i[s-1].push(i[s]);break;case 86:this.$=[];break;case 87:i[s-1].push(i[s]);break;case 90:this.$=[];break;case 91:i[s-1].push(i[s]);break;case 94:this.$=[];break;case 95:i[s-1].push(i[s]);break;case 98:this.$=[i[s]];break;case 99:i[s-1].push(i[s]);break;case 100:this.$=[i[s]];break;case 101:i[s-1].push(i[s]);break}},table:[{3:1,4:2,5:[2,46],6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{1:[3]},{5:[1,4]},{5:[2,2],7:5,8:6,9:7,10:8,11:9,12:10,13:11,14:[1,12],15:[1,20],16:17,19:[1,23],24:15,27:16,29:[1,21],34:[1,22],39:[2,2],44:[2,2],47:[2,2],48:[1,13],51:[1,14],55:[1,18],59:19,60:[1,24]},{1:[2,1]},{5:[2,47],14:[2,47],15:[2,47],19:[2,47],29:[2,47],34:[2,47],39:[2,47],44:[2,47],47:[2,47],48:[2,47],51:[2,47],55:[2,47],60:[2,47]},{5:[2,3],14:[2,3],15:[2,3],19:[2,3],29:[2,3],34:[2,3],39:[2,3],44:[2,3],47:[2,3],48:[2,3],51:[2,3],55:[2,3],60:[2,3]},{5:[2,4],14:[2,4],15:[2,4],19:[2,4],29:[2,4],34:[2,4],39:[2,4],44:[2,4],47:[2,4],48:[2,4],51:[2,4],55:[2,4],60:[2,4]},{5:[2,5],14:[2,5],15:[2,5],19:[2,5],29:[2,5],34:[2,5],39:[2,5],44:[2,5],47:[2,5],48:[2,5],51:[2,5],55:[2,5],60:[2,5]},{5:[2,6],14:[2,6],15:[2,6],19:[2,6],29:[2,6],34:[2,6],39:[2,6],44:[2,6],47:[2,6],48:[2,6],51:[2,6],55:[2,6],60:[2,6]},{5:[2,7],14:[2,7],15:[2,7],19:[2,7],29:[2,7],34:[2,7],39:[2,7],44:[2,7],47:[2,7],48:[2,7],51:[2,7],55:[2,7],60:[2,7]},{5:[2,8],14:[2,8],15:[2,8],19:[2,8],29:[2,8],34:[2,8],39:[2,8],44:[2,8],47:[2,8],48:[2,8],51:[2,8],55:[2,8],60:[2,8]},{5:[2,9],14:[2,9],15:[2,9],19:[2,9],29:[2,9],34:[2,9],39:[2,9],44:[2,9],47:[2,9],48:[2,9],51:[2,9],55:[2,9],60:[2,9]},{20:25,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:36,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:37,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{4:38,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{15:[2,48],17:39,18:[2,48]},{20:41,56:40,64:42,65:[1,43],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:44,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{5:[2,10],14:[2,10],15:[2,10],18:[2,10],19:[2,10],29:[2,10],34:[2,10],39:[2,10],44:[2,10],47:[2,10],48:[2,10],51:[2,10],55:[2,10],60:[2,10]},{20:45,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:46,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:47,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:41,56:48,64:42,65:[1,43],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[2,78],49:49,65:[2,78],72:[2,78],80:[2,78],81:[2,78],82:[2,78],83:[2,78],84:[2,78],85:[2,78]},{23:[2,33],33:[2,33],54:[2,33],65:[2,33],68:[2,33],72:[2,33],75:[2,33],80:[2,33],81:[2,33],82:[2,33],83:[2,33],84:[2,33],85:[2,33]},{23:[2,34],33:[2,34],54:[2,34],65:[2,34],68:[2,34],72:[2,34],75:[2,34],80:[2,34],81:[2,34],82:[2,34],83:[2,34],84:[2,34],85:[2,34]},{23:[2,35],33:[2,35],54:[2,35],65:[2,35],68:[2,35],72:[2,35],75:[2,35],80:[2,35],81:[2,35],82:[2,35],83:[2,35],84:[2,35],85:[2,35]},{23:[2,36],33:[2,36],54:[2,36],65:[2,36],68:[2,36],72:[2,36],75:[2,36],80:[2,36],81:[2,36],82:[2,36],83:[2,36],84:[2,36],85:[2,36]},{23:[2,37],33:[2,37],54:[2,37],65:[2,37],68:[2,37],72:[2,37],75:[2,37],80:[2,37],81:[2,37],82:[2,37],83:[2,37],84:[2,37],85:[2,37]},{23:[2,38],33:[2,38],54:[2,38],65:[2,38],68:[2,38],72:[2,38],75:[2,38],80:[2,38],81:[2,38],82:[2,38],83:[2,38],84:[2,38],85:[2,38]},{23:[2,39],33:[2,39],54:[2,39],65:[2,39],68:[2,39],72:[2,39],75:[2,39],80:[2,39],81:[2,39],82:[2,39],83:[2,39],84:[2,39],85:[2,39]},{23:[2,43],33:[2,43],54:[2,43],65:[2,43],68:[2,43],72:[2,43],75:[2,43],80:[2,43],81:[2,43],82:[2,43],83:[2,43],84:[2,43],85:[2,43],87:[1,50]},{72:[1,35],86:51},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,45],87:[2,45]},{52:52,54:[2,82],65:[2,82],72:[2,82],80:[2,82],81:[2,82],82:[2,82],83:[2,82],84:[2,82],85:[2,82]},{25:53,38:55,39:[1,57],43:56,44:[1,58],45:54,47:[2,54]},{28:59,43:60,44:[1,58],47:[2,56]},{13:62,15:[1,20],18:[1,61]},{33:[2,86],57:63,65:[2,86],72:[2,86],80:[2,86],81:[2,86],82:[2,86],83:[2,86],84:[2,86],85:[2,86]},{33:[2,40],65:[2,40],72:[2,40],80:[2,40],81:[2,40],82:[2,40],83:[2,40],84:[2,40],85:[2,40]},{33:[2,41],65:[2,41],72:[2,41],80:[2,41],81:[2,41],82:[2,41],83:[2,41],84:[2,41],85:[2,41]},{20:64,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:65,47:[1,66]},{30:67,33:[2,58],65:[2,58],72:[2,58],75:[2,58],80:[2,58],81:[2,58],82:[2,58],83:[2,58],84:[2,58],85:[2,58]},{33:[2,64],35:68,65:[2,64],72:[2,64],75:[2,64],80:[2,64],81:[2,64],82:[2,64],83:[2,64],84:[2,64],85:[2,64]},{21:69,23:[2,50],65:[2,50],72:[2,50],80:[2,50],81:[2,50],82:[2,50],83:[2,50],84:[2,50],85:[2,50]},{33:[2,90],61:70,65:[2,90],72:[2,90],80:[2,90],81:[2,90],82:[2,90],83:[2,90],84:[2,90],85:[2,90]},{20:74,33:[2,80],50:71,63:72,64:75,65:[1,43],69:73,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{72:[1,79]},{23:[2,42],33:[2,42],54:[2,42],65:[2,42],68:[2,42],72:[2,42],75:[2,42],80:[2,42],81:[2,42],82:[2,42],83:[2,42],84:[2,42],85:[2,42],87:[1,50]},{20:74,53:80,54:[2,84],63:81,64:75,65:[1,43],69:82,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:83,47:[1,66]},{47:[2,55]},{4:84,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{47:[2,20]},{20:85,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:86,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{26:87,47:[1,66]},{47:[2,57]},{5:[2,11],14:[2,11],15:[2,11],19:[2,11],29:[2,11],34:[2,11],39:[2,11],44:[2,11],47:[2,11],48:[2,11],51:[2,11],55:[2,11],60:[2,11]},{15:[2,49],18:[2,49]},{20:74,33:[2,88],58:88,63:89,64:75,65:[1,43],69:90,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{65:[2,94],66:91,68:[2,94],72:[2,94],80:[2,94],81:[2,94],82:[2,94],83:[2,94],84:[2,94],85:[2,94]},{5:[2,25],14:[2,25],15:[2,25],19:[2,25],29:[2,25],34:[2,25],39:[2,25],44:[2,25],47:[2,25],48:[2,25],51:[2,25],55:[2,25],60:[2,25]},{20:92,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,31:93,33:[2,60],63:94,64:75,65:[1,43],69:95,70:76,71:77,72:[1,78],75:[2,60],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,33:[2,66],36:96,63:97,64:75,65:[1,43],69:98,70:76,71:77,72:[1,78],75:[2,66],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,22:99,23:[2,52],63:100,64:75,65:[1,43],69:101,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,33:[2,92],62:102,63:103,64:75,65:[1,43],69:104,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,105]},{33:[2,79],65:[2,79],72:[2,79],80:[2,79],81:[2,79],82:[2,79],83:[2,79],84:[2,79],85:[2,79]},{33:[2,81]},{23:[2,27],33:[2,27],54:[2,27],65:[2,27],68:[2,27],72:[2,27],75:[2,27],80:[2,27],81:[2,27],82:[2,27],83:[2,27],84:[2,27],85:[2,27]},{23:[2,28],33:[2,28],54:[2,28],65:[2,28],68:[2,28],72:[2,28],75:[2,28],80:[2,28],81:[2,28],82:[2,28],83:[2,28],84:[2,28],85:[2,28]},{23:[2,30],33:[2,30],54:[2,30],68:[2,30],71:106,72:[1,107],75:[2,30]},{23:[2,98],33:[2,98],54:[2,98],68:[2,98],72:[2,98],75:[2,98]},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],73:[1,108],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,45],87:[2,45]},{23:[2,44],33:[2,44],54:[2,44],65:[2,44],68:[2,44],72:[2,44],75:[2,44],80:[2,44],81:[2,44],82:[2,44],83:[2,44],84:[2,44],85:[2,44],87:[2,44]},{54:[1,109]},{54:[2,83],65:[2,83],72:[2,83],80:[2,83],81:[2,83],82:[2,83],83:[2,83],84:[2,83],85:[2,83]},{54:[2,85]},{5:[2,13],14:[2,13],15:[2,13],19:[2,13],29:[2,13],34:[2,13],39:[2,13],44:[2,13],47:[2,13],48:[2,13],51:[2,13],55:[2,13],60:[2,13]},{38:55,39:[1,57],43:56,44:[1,58],45:111,46:110,47:[2,76]},{33:[2,70],40:112,65:[2,70],72:[2,70],75:[2,70],80:[2,70],81:[2,70],82:[2,70],83:[2,70],84:[2,70],85:[2,70]},{47:[2,18]},{5:[2,14],14:[2,14],15:[2,14],19:[2,14],29:[2,14],34:[2,14],39:[2,14],44:[2,14],47:[2,14],48:[2,14],51:[2,14],55:[2,14],60:[2,14]},{33:[1,113]},{33:[2,87],65:[2,87],72:[2,87],80:[2,87],81:[2,87],82:[2,87],83:[2,87],84:[2,87],85:[2,87]},{33:[2,89]},{20:74,63:115,64:75,65:[1,43],67:114,68:[2,96],69:116,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,117]},{32:118,33:[2,62],74:119,75:[1,120]},{33:[2,59],65:[2,59],72:[2,59],75:[2,59],80:[2,59],81:[2,59],82:[2,59],83:[2,59],84:[2,59],85:[2,59]},{33:[2,61],75:[2,61]},{33:[2,68],37:121,74:122,75:[1,120]},{33:[2,65],65:[2,65],72:[2,65],75:[2,65],80:[2,65],81:[2,65],82:[2,65],83:[2,65],84:[2,65],85:[2,65]},{33:[2,67],75:[2,67]},{23:[1,123]},{23:[2,51],65:[2,51],72:[2,51],80:[2,51],81:[2,51],82:[2,51],83:[2,51],84:[2,51],85:[2,51]},{23:[2,53]},{33:[1,124]},{33:[2,91],65:[2,91],72:[2,91],80:[2,91],81:[2,91],82:[2,91],83:[2,91],84:[2,91],85:[2,91]},{33:[2,93]},{5:[2,22],14:[2,22],15:[2,22],19:[2,22],29:[2,22],34:[2,22],39:[2,22],44:[2,22],47:[2,22],48:[2,22],51:[2,22],55:[2,22],60:[2,22]},{23:[2,99],33:[2,99],54:[2,99],68:[2,99],72:[2,99],75:[2,99]},{73:[1,108]},{20:74,63:125,64:75,65:[1,43],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,23],14:[2,23],15:[2,23],19:[2,23],29:[2,23],34:[2,23],39:[2,23],44:[2,23],47:[2,23],48:[2,23],51:[2,23],55:[2,23],60:[2,23]},{47:[2,19]},{47:[2,77]},{20:74,33:[2,72],41:126,63:127,64:75,65:[1,43],69:128,70:76,71:77,72:[1,78],75:[2,72],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,24],14:[2,24],15:[2,24],19:[2,24],29:[2,24],34:[2,24],39:[2,24],44:[2,24],47:[2,24],48:[2,24],51:[2,24],55:[2,24],60:[2,24]},{68:[1,129]},{65:[2,95],68:[2,95],72:[2,95],80:[2,95],81:[2,95],82:[2,95],83:[2,95],84:[2,95],85:[2,95]},{68:[2,97]},{5:[2,21],14:[2,21],15:[2,21],19:[2,21],29:[2,21],34:[2,21],39:[2,21],44:[2,21],47:[2,21],48:[2,21],51:[2,21],55:[2,21],60:[2,21]},{33:[1,130]},{33:[2,63]},{72:[1,132],76:131},{33:[1,133]},{33:[2,69]},{15:[2,12],18:[2,12]},{14:[2,26],15:[2,26],19:[2,26],29:[2,26],34:[2,26],47:[2,26],48:[2,26],51:[2,26],55:[2,26],60:[2,26]},{23:[2,31],33:[2,31],54:[2,31],68:[2,31],72:[2,31],75:[2,31]},{33:[2,74],42:134,74:135,75:[1,120]},{33:[2,71],65:[2,71],72:[2,71],75:[2,71],80:[2,71],81:[2,71],82:[2,71],83:[2,71],84:[2,71],85:[2,71]},{33:[2,73],75:[2,73]},{23:[2,29],33:[2,29],54:[2,29],65:[2,29],68:[2,29],72:[2,29],75:[2,29],80:[2,29],81:[2,29],82:[2,29],83:[2,29],84:[2,29],85:[2,29]},{14:[2,15],15:[2,15],19:[2,15],29:[2,15],34:[2,15],39:[2,15],44:[2,15],47:[2,15],48:[2,15],51:[2,15],55:[2,15],60:[2,15]},{72:[1,137],77:[1,136]},{72:[2,100],77:[2,100]},{14:[2,16],15:[2,16],19:[2,16],29:[2,16],34:[2,16],44:[2,16],47:[2,16],48:[2,16],51:[2,16],55:[2,16],60:[2,16]},{33:[1,138]},{33:[2,75]},{33:[2,32]},{72:[2,101],77:[2,101]},{14:[2,17],15:[2,17],19:[2,17],29:[2,17],34:[2,17],39:[2,17],44:[2,17],47:[2,17],48:[2,17],51:[2,17],55:[2,17],60:[2,17]}],defaultActions:{4:[2,1],54:[2,55],56:[2,20],60:[2,57],73:[2,81],82:[2,85],86:[2,18],90:[2,89],101:[2,53],104:[2,93],110:[2,19],111:[2,77],116:[2,97],119:[2,63],122:[2,69],135:[2,75],136:[2,32]},parseError:function(u,a){throw new Error(u)},parse:function(u){var a=this,c=[0],o=[null],f=[],i=this.table,l="",s=0,g=0;this.lexer.setInput(u),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,this.yy.parser=this,typeof this.lexer.yylloc>"u"&&(this.lexer.yylloc={});var v=this.lexer.yylloc;f.push(v);var w=this.lexer.options&&this.lexer.options.ranges;typeof this.yy.parseError=="function"&&(this.parseError=this.yy.parseError);function _(){var Y;return Y=a.lexer.lex()||1,typeof Y!="number"&&(Y=a.symbols_[Y]||Y),Y}for(var S,m,y,C,b={},k,M,P,N;;){if(m=c[c.length-1],this.defaultActions[m]?y=this.defaultActions[m]:((S===null||typeof S>"u")&&(S=_()),y=i[m]&&i[m][S]),typeof y>"u"||!y.length||!y[0]){var z="";{N=[];for(k in i[m])this.terminals_[k]&&k>2&&N.push("'"+this.terminals_[k]+"'");this.lexer.showPosition?z="Parse error on line "+(s+1)+`:
`+this.lexer.showPosition()+`
Expecting `+N.join(", ")+", got '"+(this.terminals_[S]||S)+"'":z="Parse error on line "+(s+1)+": Unexpected "+(S==1?"end of input":"'"+(this.terminals_[S]||S)+"'"),this.parseError(z,{text:this.lexer.match,token:this.terminals_[S]||S,line:this.lexer.yylineno,loc:v,expected:N})}}if(y[0]instanceof Array&&y.length>1)throw new Error("Parse Error: multiple actions possible at state: "+m+", token: "+S);switch(y[0]){case 1:c.push(S),o.push(this.lexer.yytext),f.push(this.lexer.yylloc),c.push(y[1]),S=null,g=this.lexer.yyleng,l=this.lexer.yytext,s=this.lexer.yylineno,v=this.lexer.yylloc;break;case 2:if(M=this.productions_[y[1]][1],b.$=o[o.length-M],b._$={first_line:f[f.length-(M||1)].first_line,last_line:f[f.length-1].last_line,first_column:f[f.length-(M||1)].first_column,last_column:f[f.length-1].last_column},w&&(b._$.range=[f[f.length-(M||1)].range[0],f[f.length-1].range[1]]),C=this.performAction.call(b,l,g,s,this.yy,y[1],o,f),typeof C<"u")return C;M&&(c=c.slice(0,-1*M*2),o=o.slice(0,-1*M),f=f.slice(0,-1*M)),c.push(this.productions_[y[1]][0]),o.push(b.$),f.push(b._$),P=i[c[c.length-2]][c[c.length-1]],c.push(P);break;case 3:return!0}}return!0}},p=function(){var d={EOF:1,parseError:function(a,c){if(this.yy.parser)this.yy.parser.parseError(a,c);else throw new Error(a)},setInput:function(a){return this._input=a,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var a=this._input[0];this.yytext+=a,this.yyleng++,this.offset++,this.match+=a,this.matched+=a;var c=a.match(/(?:\r\n?|\n).*/g);return c?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),a},unput:function(a){var c=a.length,o=a.split(/(?:\r\n?|\n)/g);this._input=a+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-c-1),this.offset-=c;var f=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),o.length-1&&(this.yylineno-=o.length-1);var i=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:o?(o.length===f.length?this.yylloc.first_column:0)+f[f.length-o.length].length-o[0].length:this.yylloc.first_column-c},this.options.ranges&&(this.yylloc.range=[i[0],i[0]+this.yyleng-c]),this},more:function(){return this._more=!0,this},less:function(a){this.unput(this.match.slice(a))},pastInput:function(){var a=this.matched.substr(0,this.matched.length-this.match.length);return(a.length>20?"...":"")+a.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var a=this.match;return a.length<20&&(a+=this._input.substr(0,20-a.length)),(a.substr(0,20)+(a.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var a=this.pastInput(),c=new Array(a.length+1).join("-");return a+this.upcomingInput()+`
`+c+"^"},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var a,c,o,f,i;this._more||(this.yytext="",this.match="");for(var l=this._currentRules(),s=0;s<l.length&&(o=this._input.match(this.rules[l[s]]),!(o&&(!c||o[0].length>c[0].length)&&(c=o,f=s,!this.options.flex)));s++);return c?(i=c[0].match(/(?:\r\n?|\n).*/g),i&&(this.yylineno+=i.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:i?i[i.length-1].length-i[i.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+c[0].length},this.yytext+=c[0],this.match+=c[0],this.matches=c,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._input=this._input.slice(c[0].length),this.matched+=c[0],a=this.performAction.call(this,this.yy,this,l[f],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),a||void 0):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var a=this.next();return typeof a<"u"?a:this.lex()},begin:function(a){this.conditionStack.push(a)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(a){this.begin(a)}};return d.options={},d.performAction=function(a,c,o,f){function i(l,s){return c.yytext=c.yytext.substring(l,c.yyleng-s+l)}switch(o){case 0:if(c.yytext.slice(-2)==="\\\\"?(i(0,1),this.begin("mu")):c.yytext.slice(-1)==="\\"?(i(0,1),this.begin("emu")):this.begin("mu"),c.yytext)return 15;break;case 1:return 15;case 2:return this.popState(),15;case 3:return this.begin("raw"),15;case 4:return this.popState(),this.conditionStack[this.conditionStack.length-1]==="raw"?15:(i(5,9),"END_RAW_BLOCK");case 5:return 15;case 6:return this.popState(),14;case 7:return 65;case 8:return 68;case 9:return 19;case 10:return this.popState(),this.begin("raw"),23;case 11:return 55;case 12:return 60;case 13:return 29;case 14:return 47;case 15:return this.popState(),44;case 16:return this.popState(),44;case 17:return 34;case 18:return 39;case 19:return 51;case 20:return 48;case 21:this.unput(c.yytext),this.popState(),this.begin("com");break;case 22:return this.popState(),14;case 23:return 48;case 24:return 73;case 25:return 72;case 26:return 72;case 27:return 87;case 28:break;case 29:return this.popState(),54;case 30:return this.popState(),33;case 31:return c.yytext=i(1,2).replace(/\\"/g,'"'),80;case 32:return c.yytext=i(1,2).replace(/\\'/g,"'"),80;case 33:return 85;case 34:return 82;case 35:return 82;case 36:return 83;case 37:return 84;case 38:return 81;case 39:return 75;case 40:return 77;case 41:return 72;case 42:return c.yytext=c.yytext.replace(/\\([\\\]])/g,"$1"),72;case 43:return"INVALID";case 44:return 5}},d.rules=[/^(?:[^\x00]*?(?=(\{\{)))/,/^(?:[^\x00]+)/,/^(?:[^\x00]{2,}?(?=(\{\{|\\\{\{|\\\\\{\{|$)))/,/^(?:\{\{\{\{(?=[^/]))/,/^(?:\{\{\{\{\/[^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=[=}\s\/.])\}\}\}\})/,/^(?:[^\x00]+?(?=(\{\{\{\{)))/,/^(?:[\s\S]*?--(~)?\}\})/,/^(?:\()/,/^(?:\))/,/^(?:\{\{\{\{)/,/^(?:\}\}\}\})/,/^(?:\{\{(~)?>)/,/^(?:\{\{(~)?#>)/,/^(?:\{\{(~)?#\*?)/,/^(?:\{\{(~)?\/)/,/^(?:\{\{(~)?\^\s*(~)?\}\})/,/^(?:\{\{(~)?\s*else\s*(~)?\}\})/,/^(?:\{\{(~)?\^)/,/^(?:\{\{(~)?\s*else\b)/,/^(?:\{\{(~)?\{)/,/^(?:\{\{(~)?&)/,/^(?:\{\{(~)?!--)/,/^(?:\{\{(~)?![\s\S]*?\}\})/,/^(?:\{\{(~)?\*?)/,/^(?:=)/,/^(?:\.\.)/,/^(?:\.(?=([=~}\s\/.)|])))/,/^(?:[\/.])/,/^(?:\s+)/,/^(?:\}(~)?\}\})/,/^(?:(~)?\}\})/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:@)/,/^(?:true(?=([~}\s)])))/,/^(?:false(?=([~}\s)])))/,/^(?:undefined(?=([~}\s)])))/,/^(?:null(?=([~}\s)])))/,/^(?:-?[0-9]+(?:\.[0-9]+)?(?=([~}\s)])))/,/^(?:as\s+\|)/,/^(?:\|)/,/^(?:([^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=([=~}\s\/.)|]))))/,/^(?:\[(\\\]|[^\]])*\])/,/^(?:.)/,/^(?:$)/],d.conditions={mu:{rules:[7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44],inclusive:!1},emu:{rules:[2],inclusive:!1},com:{rules:[6],inclusive:!1},raw:{rules:[3,4,5],inclusive:!1},INITIAL:{rules:[0,1,44],inclusive:!0}},d}();n.lexer=p;function h(){this.yy={}}return h.prototype=n,n.Parser=h,new h}();e.default=r,t.exports=e.default})(Ge,Ge.exports);var hn=Ge.exports,Ke={exports:{}},ze={exports:{}};(function(t,e){e.__esModule=!0;function r(c){return c&&c.__esModule?c:{default:c}}var n=B,p=r(n);function h(){this.parents=[]}h.prototype={constructor:h,mutating:!1,acceptKey:function(o,f){var i=this.accept(o[f]);if(this.mutating){if(i&&!h.prototype[i.type])throw new p.default('Unexpected node type "'+i.type+'" found when accepting '+f+" on "+o.type);o[f]=i}},acceptRequired:function(o,f){if(this.acceptKey(o,f),!o[f])throw new p.default(o.type+" requires "+f)},acceptArray:function(o){for(var f=0,i=o.length;f<i;f++)this.acceptKey(o,f),o[f]||(o.splice(f,1),f--,i--)},accept:function(o){if(o){if(!this[o.type])throw new p.default("Unknown type: "+o.type,o);this.current&&this.parents.unshift(this.current),this.current=o;var f=this[o.type](o);if(this.current=this.parents.shift(),!this.mutating||f)return f;if(f!==!1)return o}},Program:function(o){this.acceptArray(o.body)},MustacheStatement:d,Decorator:d,BlockStatement:u,DecoratorBlock:u,PartialStatement:a,PartialBlockStatement:function(o){a.call(this,o),this.acceptKey(o,"program")},ContentStatement:function(){},CommentStatement:function(){},SubExpression:d,PathExpression:function(){},StringLiteral:function(){},NumberLiteral:function(){},BooleanLiteral:function(){},UndefinedLiteral:function(){},NullLiteral:function(){},Hash:function(o){this.acceptArray(o.pairs)},HashPair:function(o){this.acceptRequired(o,"value")}};function d(c){this.acceptRequired(c,"path"),this.acceptArray(c.params),this.acceptKey(c,"hash")}function u(c){d.call(this,c),this.acceptKey(c,"program"),this.acceptKey(c,"inverse")}function a(c){this.acceptRequired(c,"name"),this.acceptArray(c.params),this.acceptKey(c,"hash")}e.default=h,t.exports=e.default})(ze,ze.exports);var Rt=ze.exports;(function(t,e){e.__esModule=!0;function r(o){return o&&o.__esModule?o:{default:o}}var n=Rt,p=r(n);function h(){var o=arguments.length<=0||arguments[0]===void 0?{}:arguments[0];this.options=o}h.prototype=new p.default,h.prototype.Program=function(o){var f=!this.options.ignoreStandalone,i=!this.isRootSeen;this.isRootSeen=!0;for(var l=o.body,s=0,g=l.length;s<g;s++){var v=l[s],w=this.accept(v);if(w){var _=d(l,s,i),S=u(l,s,i),m=w.openStandalone&&_,y=w.closeStandalone&&S,C=w.inlineStandalone&&_&&S;w.close&&a(l,s,!0),w.open&&c(l,s,!0),f&&C&&(a(l,s),c(l,s)&&v.type==="PartialStatement"&&(v.indent=/([ \t]+$)/.exec(l[s-1].original)[1])),f&&m&&(a((v.program||v.inverse).body),c(l,s)),f&&y&&(a(l,s),c((v.inverse||v.program).body))}}return o},h.prototype.BlockStatement=h.prototype.DecoratorBlock=h.prototype.PartialBlockStatement=function(o){this.accept(o.program),this.accept(o.inverse);var f=o.program||o.inverse,i=o.program&&o.inverse,l=i,s=i;if(i&&i.chained)for(l=i.body[0].program;s.chained;)s=s.body[s.body.length-1].program;var g={open:o.openStrip.open,close:o.closeStrip.close,openStandalone:u(f.body),closeStandalone:d((l||f).body)};if(o.openStrip.close&&a(f.body,null,!0),i){var v=o.inverseStrip;v.open&&c(f.body,null,!0),v.close&&a(l.body,null,!0),o.closeStrip.open&&c(s.body,null,!0),!this.options.ignoreStandalone&&d(f.body)&&u(l.body)&&(c(f.body),a(l.body))}else o.closeStrip.open&&c(f.body,null,!0);return g},h.prototype.Decorator=h.prototype.MustacheStatement=function(o){return o.strip},h.prototype.PartialStatement=h.prototype.CommentStatement=function(o){var f=o.strip||{};return{inlineStandalone:!0,open:f.open,close:f.close}};function d(o,f,i){f===void 0&&(f=o.length);var l=o[f-1],s=o[f-2];if(!l)return i;if(l.type==="ContentStatement")return(s||!i?/\r?\n\s*?$/:/(^|\r?\n)\s*?$/).test(l.original)}function u(o,f,i){f===void 0&&(f=-1);var l=o[f+1],s=o[f+2];if(!l)return i;if(l.type==="ContentStatement")return(s||!i?/^\s*?\r?\n/:/^\s*?(\r?\n|$)/).test(l.original)}function a(o,f,i){var l=o[f==null?0:f+1];if(!(!l||l.type!=="ContentStatement"||!i&&l.rightStripped)){var s=l.value;l.value=l.value.replace(i?/^\s+/:/^[ \t]*\r?\n?/,""),l.rightStripped=l.value!==s}}function c(o,f,i){var l=o[f==null?o.length-1:f-1];if(!(!l||l.type!=="ContentStatement"||!i&&l.leftStripped)){var s=l.value;return l.value=l.value.replace(i?/\s+$/:/[ \t]+$/,""),l.leftStripped=l.value!==s,l.leftStripped}}e.default=h,t.exports=e.default})(Ke,Ke.exports);var dn=Ke.exports,R={};R.__esModule=!0;R.SourceLocation=mn;R.id=vn;R.stripFlags=_n;R.stripComment=yn;R.preparePath=wn;R.prepareMustache=Sn;R.prepareRawBlock=bn;R.prepareBlock=Cn;R.prepareProgram=kn;R.preparePartialBlock=En;function fn(t){return t&&t.__esModule?t:{default:t}}var gn=B,nt=fn(gn);function it(t,e){if(e=e.path?e.path.original:e,t.path.original!==e){var r={loc:t.path.loc};throw new nt.default(t.path.original+" doesn't match "+e,r)}}function mn(t,e){this.source=t,this.start={line:e.first_line,column:e.first_column},this.end={line:e.last_line,column:e.last_column}}function vn(t){return/^\[.*\]$/.test(t)?t.substring(1,t.length-1):t}function _n(t,e){return{open:t.charAt(2)==="~",close:e.charAt(e.length-3)==="~"}}function yn(t){return t.replace(/^\{\{~?!-?-?/,"").replace(/-?-?~?\}\}$/,"")}function wn(t,e,r){r=this.locInfo(r);for(var n=t?"@":"",p=[],h=0,d=0,u=e.length;d<u;d++){var a=e[d].part,c=e[d].original!==a;if(n+=(e[d].separator||"")+a,!c&&(a===".."||a==="."||a==="this")){if(p.length>0)throw new nt.default("Invalid path: "+n,{loc:r});a===".."&&h++}else p.push(a)}return{type:"PathExpression",data:t,depth:h,parts:p,original:n,loc:r}}function Sn(t,e,r,n,p,h){var d=n.charAt(3)||n.charAt(2),u=d!=="{"&&d!=="&",a=/\*/.test(n);return{type:a?"Decorator":"MustacheStatement",path:t,params:e,hash:r,escaped:u,strip:p,loc:this.locInfo(h)}}function bn(t,e,r,n){it(t,r),n=this.locInfo(n);var p={type:"Program",body:e,strip:{},loc:n};return{type:"BlockStatement",path:t.path,params:t.params,hash:t.hash,program:p,openStrip:{},inverseStrip:{},closeStrip:{},loc:n}}function Cn(t,e,r,n,p,h){n&&n.path&&it(t,n);var d=/\*/.test(t.open);e.blockParams=t.blockParams;var u=void 0,a=void 0;if(r){if(d)throw new nt.default("Unexpected inverse block on decorator",r);r.chain&&(r.program.body[0].closeStrip=n.strip),a=r.strip,u=r.program}return p&&(p=u,u=e,e=p),{type:d?"DecoratorBlock":"BlockStatement",path:t.path,params:t.params,hash:t.hash,program:e,inverse:u,openStrip:t.strip,inverseStrip:a,closeStrip:n&&n.strip,loc:this.locInfo(h)}}function kn(t,e){if(!e&&t.length){var r=t[0].loc,n=t[t.length-1].loc;r&&n&&(e={source:r.source,start:{line:r.start.line,column:r.start.column},end:{line:n.end.line,column:n.end.column}})}return{type:"Program",body:t,strip:{},loc:e}}function En(t,e,r,n){return it(t,r),{type:"PartialBlockStatement",name:t.path,params:t.params,hash:t.hash,program:e,openStrip:t.strip,closeStrip:r&&r.strip,loc:this.locInfo(n)}}ne.__esModule=!0;ne.parseWithoutProcessing=Tt;ne.parse=In;function Ln(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function Bt(t){return t&&t.__esModule?t:{default:t}}var Pn=hn,Ye=Bt(Pn),xn=dn,Mn=Bt(xn),An=R,On=Ln(An),Nn=x;ne.parser=Ye.default;var pe={};Nn.extend(pe,On);function Tt(t,e){if(t.type==="Program")return t;Ye.default.yy=pe,pe.locInfo=function(n){return new pe.SourceLocation(e&&e.srcName,n)};var r=Ye.default.parse(t);return r}function In(t,e){var r=Tt(t,e),n=new Mn.default(e);return n.accept(r)}var ie={};ie.__esModule=!0;ie.Compiler=Ze;ie.precompile=Tn;ie.compile=Hn;function Ht(t){return t&&t.__esModule?t:{default:t}}var Dn=B,ee=Ht(Dn),te=x,Rn=Dt,J=Ht(Rn),Bn=[].slice;function Ze(){}Ze.prototype={compiler:Ze,equals:function(e){var r=this.opcodes.length;if(e.opcodes.length!==r)return!1;for(var n=0;n<r;n++){var p=this.opcodes[n],h=e.opcodes[n];if(p.opcode!==h.opcode||!qt(p.args,h.args))return!1}r=this.children.length;for(var n=0;n<r;n++)if(!this.children[n].equals(e.children[n]))return!1;return!0},guid:0,compile:function(e,r){return this.sourceNode=[],this.opcodes=[],this.children=[],this.options=r,this.stringParams=r.stringParams,this.trackIds=r.trackIds,r.blockParams=r.blockParams||[],r.knownHelpers=te.extend(Object.create(null),{helperMissing:!0,blockHelperMissing:!0,each:!0,if:!0,unless:!0,with:!0,log:!0,lookup:!0},r.knownHelpers),this.accept(e)},compileProgram:function(e){var r=new this.compiler,n=r.compile(e,this.options),p=this.guid++;return this.usePartial=this.usePartial||n.usePartial,this.children[p]=n,this.useDepths=this.useDepths||n.useDepths,p},accept:function(e){if(!this[e.type])throw new ee.default("Unknown type: "+e.type,e);this.sourceNode.unshift(e);var r=this[e.type](e);return this.sourceNode.shift(),r},Program:function(e){this.options.blockParams.unshift(e.blockParams);for(var r=e.body,n=r.length,p=0;p<n;p++)this.accept(r[p]);return this.options.blockParams.shift(),this.isSimple=n===1,this.blockParams=e.blockParams?e.blockParams.length:0,this},BlockStatement:function(e){pt(e);var r=e.program,n=e.inverse;r=r&&this.compileProgram(r),n=n&&this.compileProgram(n);var p=this.classifySexpr(e);p==="helper"?this.helperSexpr(e,r,n):p==="simple"?(this.simpleSexpr(e),this.opcode("pushProgram",r),this.opcode("pushProgram",n),this.opcode("emptyHash"),this.opcode("blockValue",e.path.original)):(this.ambiguousSexpr(e,r,n),this.opcode("pushProgram",r),this.opcode("pushProgram",n),this.opcode("emptyHash"),this.opcode("ambiguousBlockValue")),this.opcode("append")},DecoratorBlock:function(e){var r=e.program&&this.compileProgram(e.program),n=this.setupFullMustacheParams(e,r,void 0),p=e.path;this.useDecorators=!0,this.opcode("registerDecorator",n.length,p.original)},PartialStatement:function(e){this.usePartial=!0;var r=e.program;r&&(r=this.compileProgram(e.program));var n=e.params;if(n.length>1)throw new ee.default("Unsupported number of partial arguments: "+n.length,e);n.length||(this.options.explicitPartialContext?this.opcode("pushLiteral","undefined"):n.push({type:"PathExpression",parts:[],depth:0}));var p=e.name.original,h=e.name.type==="SubExpression";h&&this.accept(e.name),this.setupFullMustacheParams(e,r,void 0,!0);var d=e.indent||"";this.options.preventIndent&&d&&(this.opcode("appendContent",d),d=""),this.opcode("invokePartial",h,p,d),this.opcode("append")},PartialBlockStatement:function(e){this.PartialStatement(e)},MustacheStatement:function(e){this.SubExpression(e),e.escaped&&!this.options.noEscape?this.opcode("appendEscaped"):this.opcode("append")},Decorator:function(e){this.DecoratorBlock(e)},ContentStatement:function(e){e.value&&this.opcode("appendContent",e.value)},CommentStatement:function(){},SubExpression:function(e){pt(e);var r=this.classifySexpr(e);r==="simple"?this.simpleSexpr(e):r==="helper"?this.helperSexpr(e):this.ambiguousSexpr(e)},ambiguousSexpr:function(e,r,n){var p=e.path,h=p.parts[0],d=r!=null||n!=null;this.opcode("getContext",p.depth),this.opcode("pushProgram",r),this.opcode("pushProgram",n),p.strict=!0,this.accept(p),this.opcode("invokeAmbiguous",h,d)},simpleSexpr:function(e){var r=e.path;r.strict=!0,this.accept(r),this.opcode("resolvePossibleLambda")},helperSexpr:function(e,r,n){var p=this.setupFullMustacheParams(e,r,n),h=e.path,d=h.parts[0];if(this.options.knownHelpers[d])this.opcode("invokeKnownHelper",p.length,d);else{if(this.options.knownHelpersOnly)throw new ee.default("You specified knownHelpersOnly, but used the unknown helper "+d,e);h.strict=!0,h.falsy=!0,this.accept(h),this.opcode("invokeHelper",p.length,h.original,J.default.helpers.simpleId(h))}},PathExpression:function(e){this.addDepth(e.depth),this.opcode("getContext",e.depth);var r=e.parts[0],n=J.default.helpers.scopedId(e),p=!e.depth&&!n&&this.blockParamIndex(r);p?this.opcode("lookupBlockParam",p,e.parts):r?e.data?(this.options.data=!0,this.opcode("lookupData",e.depth,e.parts,e.strict)):this.opcode("lookupOnContext",e.parts,e.falsy,e.strict,n):this.opcode("pushContext")},StringLiteral:function(e){this.opcode("pushString",e.value)},NumberLiteral:function(e){this.opcode("pushLiteral",e.value)},BooleanLiteral:function(e){this.opcode("pushLiteral",e.value)},UndefinedLiteral:function(){this.opcode("pushLiteral","undefined")},NullLiteral:function(){this.opcode("pushLiteral","null")},Hash:function(e){var r=e.pairs,n=0,p=r.length;for(this.opcode("pushHash");n<p;n++)this.pushParam(r[n].value);for(;n--;)this.opcode("assignToHash",r[n].key);this.opcode("popHash")},opcode:function(e){this.opcodes.push({opcode:e,args:Bn.call(arguments,1),loc:this.sourceNode[0].loc})},addDepth:function(e){e&&(this.useDepths=!0)},classifySexpr:function(e){var r=J.default.helpers.simpleId(e.path),n=r&&!!this.blockParamIndex(e.path.parts[0]),p=!n&&J.default.helpers.helperExpression(e),h=!n&&(p||r);if(h&&!p){var d=e.path.parts[0],u=this.options;u.knownHelpers[d]?p=!0:u.knownHelpersOnly&&(h=!1)}return p?"helper":h?"ambiguous":"simple"},pushParams:function(e){for(var r=0,n=e.length;r<n;r++)this.pushParam(e[r])},pushParam:function(e){var r=e.value!=null?e.value:e.original||"";if(this.stringParams)r.replace&&(r=r.replace(/^(\.?\.\/)*/g,"").replace(/\//g,".")),e.depth&&this.addDepth(e.depth),this.opcode("getContext",e.depth||0),this.opcode("pushStringParam",r,e.type),e.type==="SubExpression"&&this.accept(e);else{if(this.trackIds){var n=void 0;if(e.parts&&!J.default.helpers.scopedId(e)&&!e.depth&&(n=this.blockParamIndex(e.parts[0])),n){var p=e.parts.slice(1).join(".");this.opcode("pushId","BlockParam",n,p)}else r=e.original||r,r.replace&&(r=r.replace(/^this(?:\.|$)/,"").replace(/^\.\//,"").replace(/^\.$/,"")),this.opcode("pushId",e.type,r)}this.accept(e)}},setupFullMustacheParams:function(e,r,n,p){var h=e.params;return this.pushParams(h),this.opcode("pushProgram",r),this.opcode("pushProgram",n),e.hash?this.accept(e.hash):this.opcode("emptyHash",p),h},blockParamIndex:function(e){for(var r=0,n=this.options.blockParams.length;r<n;r++){var p=this.options.blockParams[r],h=p&&te.indexOf(p,e);if(p&&h>=0)return[r,h]}}};function Tn(t,e,r){if(t==null||typeof t!="string"&&t.type!=="Program")throw new ee.default("You must pass a string or Handlebars AST to Handlebars.precompile. You passed "+t);e=e||{},"data"in e||(e.data=!0),e.compat&&(e.useDepths=!0);var n=r.parse(t,e),p=new r.Compiler().compile(n,e);return new r.JavaScriptCompiler().compile(p,e)}function Hn(t,e,r){if(e===void 0&&(e={}),t==null||typeof t!="string"&&t.type!=="Program")throw new ee.default("You must pass a string or Handlebars AST to Handlebars.compile. You passed "+t);e=te.extend({},e),"data"in e||(e.data=!0),e.compat&&(e.useDepths=!0);var n=void 0;function p(){var d=r.parse(t,e),u=new r.Compiler().compile(d,e),a=new r.JavaScriptCompiler().compile(u,e,void 0,!0);return r.template(a)}function h(d,u){return n||(n=p()),n.call(this,d,u)}return h._setup=function(d){return n||(n=p()),n._setup(d)},h._child=function(d,u,a,c){return n||(n=p()),n._child(d,u,a,c)},h}function qt(t,e){if(t===e)return!0;if(te.isArray(t)&&te.isArray(e)&&t.length===e.length){for(var r=0;r<t.length;r++)if(!qt(t[r],e[r]))return!1;return!0}}function pt(t){if(!t.path.parts){var e=t.path;t.path={type:"PathExpression",data:!1,depth:0,parts:[e.original+""],original:e.original+"",loc:e.loc}}}var Qe={exports:{}},Je={exports:{}},j={},_e={},ae={},oe={},ht;function qn(){if(ht)return oe;ht=1;var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");return oe.encode=function(e){if(0<=e&&e<t.length)return t[e];throw new TypeError("Must be between 0 and 63: "+e)},oe.decode=function(e){var r=65,n=90,p=97,h=122,d=48,u=57,a=43,c=47,o=26,f=52;return r<=e&&e<=n?e-r:p<=e&&e<=h?e-p+o:d<=e&&e<=u?e-d+f:e==a?62:e==c?63:-1},oe}var dt;function Ut(){if(dt)return ae;dt=1;var t=qn(),e=5,r=1<<e,n=r-1,p=r;function h(u){return u<0?(-u<<1)+1:(u<<1)+0}function d(u){var a=(u&1)===1,c=u>>1;return a?-c:c}return ae.encode=function(a){var c="",o,f=h(a);do o=f&n,f>>>=e,f>0&&(o|=p),c+=t.encode(o);while(f>0);return c},ae.decode=function(a,c,o){var f=a.length,i=0,l=0,s,g;do{if(c>=f)throw new Error("Expected more digits in base 64 VLQ value.");if(g=t.decode(a.charCodeAt(c++)),g===-1)throw new Error("Invalid base64 digit: "+a.charAt(c-1));s=!!(g&p),g&=n,i=i+(g<<l),l+=e}while(s);o.value=d(i),o.rest=c},ae}var ye={},ft;function se(){return ft||(ft=1,function(t){function e(m,y,C){if(y in m)return m[y];if(arguments.length===3)return C;throw new Error('"'+y+'" is a required argument.')}t.getArg=e;var r=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.-]*)(?::(\d+))?(.*)$/,n=/^data:.+\,.+$/;function p(m){var y=m.match(r);return y?{scheme:y[1],auth:y[2],host:y[3],port:y[4],path:y[5]}:null}t.urlParse=p;function h(m){var y="";return m.scheme&&(y+=m.scheme+":"),y+="//",m.auth&&(y+=m.auth+"@"),m.host&&(y+=m.host),m.port&&(y+=":"+m.port),m.path&&(y+=m.path),y}t.urlGenerate=h;function d(m){var y=m,C=p(m);if(C){if(!C.path)return m;y=C.path}for(var b=t.isAbsolute(y),k=y.split(/\/+/),M,P=0,N=k.length-1;N>=0;N--)M=k[N],M==="."?k.splice(N,1):M===".."?P++:P>0&&(M===""?(k.splice(N+1,P),P=0):(k.splice(N,2),P--));return y=k.join("/"),y===""&&(y=b?"/":"."),C?(C.path=y,h(C)):y}t.normalize=d;function u(m,y){m===""&&(m="."),y===""&&(y=".");var C=p(y),b=p(m);if(b&&(m=b.path||"/"),C&&!C.scheme)return b&&(C.scheme=b.scheme),h(C);if(C||y.match(n))return y;if(b&&!b.host&&!b.path)return b.host=y,h(b);var k=y.charAt(0)==="/"?y:d(m.replace(/\/+$/,"")+"/"+y);return b?(b.path=k,h(b)):k}t.join=u,t.isAbsolute=function(m){return m.charAt(0)==="/"||r.test(m)};function a(m,y){m===""&&(m="."),m=m.replace(/\/$/,"");for(var C=0;y.indexOf(m+"/")!==0;){var b=m.lastIndexOf("/");if(b<0||(m=m.slice(0,b),m.match(/^([^\/]+:\/)?\/*$/)))return y;++C}return Array(C+1).join("../")+y.substr(m.length+1)}t.relative=a;var c=function(){var m=Object.create(null);return!("__proto__"in m)}();function o(m){return m}function f(m){return l(m)?"$"+m:m}t.toSetString=c?o:f;function i(m){return l(m)?m.slice(1):m}t.fromSetString=c?o:i;function l(m){if(!m)return!1;var y=m.length;if(y<9||m.charCodeAt(y-1)!==95||m.charCodeAt(y-2)!==95||m.charCodeAt(y-3)!==111||m.charCodeAt(y-4)!==116||m.charCodeAt(y-5)!==111||m.charCodeAt(y-6)!==114||m.charCodeAt(y-7)!==112||m.charCodeAt(y-8)!==95||m.charCodeAt(y-9)!==95)return!1;for(var C=y-10;C>=0;C--)if(m.charCodeAt(C)!==36)return!1;return!0}function s(m,y,C){var b=v(m.source,y.source);return b!==0||(b=m.originalLine-y.originalLine,b!==0)||(b=m.originalColumn-y.originalColumn,b!==0||C)||(b=m.generatedColumn-y.generatedColumn,b!==0)||(b=m.generatedLine-y.generatedLine,b!==0)?b:v(m.name,y.name)}t.compareByOriginalPositions=s;function g(m,y,C){var b=m.generatedLine-y.generatedLine;return b!==0||(b=m.generatedColumn-y.generatedColumn,b!==0||C)||(b=v(m.source,y.source),b!==0)||(b=m.originalLine-y.originalLine,b!==0)||(b=m.originalColumn-y.originalColumn,b!==0)?b:v(m.name,y.name)}t.compareByGeneratedPositionsDeflated=g;function v(m,y){return m===y?0:m===null?1:y===null?-1:m>y?1:-1}function w(m,y){var C=m.generatedLine-y.generatedLine;return C!==0||(C=m.generatedColumn-y.generatedColumn,C!==0)||(C=v(m.source,y.source),C!==0)||(C=m.originalLine-y.originalLine,C!==0)||(C=m.originalColumn-y.originalColumn,C!==0)?C:v(m.name,y.name)}t.compareByGeneratedPositionsInflated=w;function _(m){return JSON.parse(m.replace(/^\)]}'[^\n]*\n/,""))}t.parseSourceMapInput=_;function S(m,y,C){if(y=y||"",m&&(m[m.length-1]!=="/"&&y[0]!=="/"&&(m+="/"),y=m+y),C){var b=p(C);if(!b)throw new Error("sourceMapURL could not be parsed");if(b.path){var k=b.path.lastIndexOf("/");k>=0&&(b.path=b.path.substring(0,k+1))}y=u(h(b),y)}return d(y)}t.computeSourceURL=S}(ye)),ye}var we={},gt;function Ft(){if(gt)return we;gt=1;var t=se(),e=Object.prototype.hasOwnProperty,r=typeof Map<"u";function n(){this._array=[],this._set=r?new Map:Object.create(null)}return n.fromArray=function(h,d){for(var u=new n,a=0,c=h.length;a<c;a++)u.add(h[a],d);return u},n.prototype.size=function(){return r?this._set.size:Object.getOwnPropertyNames(this._set).length},n.prototype.add=function(h,d){var u=r?h:t.toSetString(h),a=r?this.has(h):e.call(this._set,u),c=this._array.length;(!a||d)&&this._array.push(h),a||(r?this._set.set(h,c):this._set[u]=c)},n.prototype.has=function(h){if(r)return this._set.has(h);var d=t.toSetString(h);return e.call(this._set,d)},n.prototype.indexOf=function(h){if(r){var d=this._set.get(h);if(d>=0)return d}else{var u=t.toSetString(h);if(e.call(this._set,u))return this._set[u]}throw new Error('"'+h+'" is not in the set.')},n.prototype.at=function(h){if(h>=0&&h<this._array.length)return this._array[h];throw new Error("No element indexed by "+h)},n.prototype.toArray=function(){return this._array.slice()},we.ArraySet=n,we}var Se={},mt;function Un(){if(mt)return Se;mt=1;var t=se();function e(n,p){var h=n.generatedLine,d=p.generatedLine,u=n.generatedColumn,a=p.generatedColumn;return d>h||d==h&&a>=u||t.compareByGeneratedPositionsInflated(n,p)<=0}function r(){this._array=[],this._sorted=!0,this._last={generatedLine:-1,generatedColumn:0}}return r.prototype.unsortedForEach=function(p,h){this._array.forEach(p,h)},r.prototype.add=function(p){e(this._last,p)?(this._last=p,this._array.push(p)):(this._sorted=!1,this._array.push(p))},r.prototype.toArray=function(){return this._sorted||(this._array.sort(t.compareByGeneratedPositionsInflated),this._sorted=!0),this._array},Se.MappingList=r,Se}var vt;function Vt(){if(vt)return _e;vt=1;var t=Ut(),e=se(),r=Ft().ArraySet,n=Un().MappingList;function p(h){h||(h={}),this._file=e.getArg(h,"file",null),this._sourceRoot=e.getArg(h,"sourceRoot",null),this._skipValidation=e.getArg(h,"skipValidation",!1),this._sources=new r,this._names=new r,this._mappings=new n,this._sourcesContents=null}return p.prototype._version=3,p.fromSourceMap=function(d){var u=d.sourceRoot,a=new p({file:d.file,sourceRoot:u});return d.eachMapping(function(c){var o={generated:{line:c.generatedLine,column:c.generatedColumn}};c.source!=null&&(o.source=c.source,u!=null&&(o.source=e.relative(u,o.source)),o.original={line:c.originalLine,column:c.originalColumn},c.name!=null&&(o.name=c.name)),a.addMapping(o)}),d.sources.forEach(function(c){var o=c;u!==null&&(o=e.relative(u,c)),a._sources.has(o)||a._sources.add(o);var f=d.sourceContentFor(c);f!=null&&a.setSourceContent(c,f)}),a},p.prototype.addMapping=function(d){var u=e.getArg(d,"generated"),a=e.getArg(d,"original",null),c=e.getArg(d,"source",null),o=e.getArg(d,"name",null);this._skipValidation||this._validateMapping(u,a,c,o),c!=null&&(c=String(c),this._sources.has(c)||this._sources.add(c)),o!=null&&(o=String(o),this._names.has(o)||this._names.add(o)),this._mappings.add({generatedLine:u.line,generatedColumn:u.column,originalLine:a!=null&&a.line,originalColumn:a!=null&&a.column,source:c,name:o})},p.prototype.setSourceContent=function(d,u){var a=d;this._sourceRoot!=null&&(a=e.relative(this._sourceRoot,a)),u!=null?(this._sourcesContents||(this._sourcesContents=Object.create(null)),this._sourcesContents[e.toSetString(a)]=u):this._sourcesContents&&(delete this._sourcesContents[e.toSetString(a)],Object.keys(this._sourcesContents).length===0&&(this._sourcesContents=null))},p.prototype.applySourceMap=function(d,u,a){var c=u;if(u==null){if(d.file==null)throw new Error(`SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map's "file" property. Both were omitted.`);c=d.file}var o=this._sourceRoot;o!=null&&(c=e.relative(o,c));var f=new r,i=new r;this._mappings.unsortedForEach(function(l){if(l.source===c&&l.originalLine!=null){var s=d.originalPositionFor({line:l.originalLine,column:l.originalColumn});s.source!=null&&(l.source=s.source,a!=null&&(l.source=e.join(a,l.source)),o!=null&&(l.source=e.relative(o,l.source)),l.originalLine=s.line,l.originalColumn=s.column,s.name!=null&&(l.name=s.name))}var g=l.source;g!=null&&!f.has(g)&&f.add(g);var v=l.name;v!=null&&!i.has(v)&&i.add(v)},this),this._sources=f,this._names=i,d.sources.forEach(function(l){var s=d.sourceContentFor(l);s!=null&&(a!=null&&(l=e.join(a,l)),o!=null&&(l=e.relative(o,l)),this.setSourceContent(l,s))},this)},p.prototype._validateMapping=function(d,u,a,c){if(u&&typeof u.line!="number"&&typeof u.column!="number")throw new Error("original.line and original.column are not numbers -- you probably meant to omit the original mapping entirely and only map the generated position. If so, pass null for the original mapping instead of an object with empty or null values.");if(!(d&&"line"in d&&"column"in d&&d.line>0&&d.column>=0&&!u&&!a&&!c)){if(d&&"line"in d&&"column"in d&&u&&"line"in u&&"column"in u&&d.line>0&&d.column>=0&&u.line>0&&u.column>=0&&a)return;throw new Error("Invalid mapping: "+JSON.stringify({generated:d,source:a,original:u,name:c}))}},p.prototype._serializeMappings=function(){for(var d=0,u=1,a=0,c=0,o=0,f=0,i="",l,s,g,v,w=this._mappings.toArray(),_=0,S=w.length;_<S;_++){if(s=w[_],l="",s.generatedLine!==u)for(d=0;s.generatedLine!==u;)l+=";",u++;else if(_>0){if(!e.compareByGeneratedPositionsInflated(s,w[_-1]))continue;l+=","}l+=t.encode(s.generatedColumn-d),d=s.generatedColumn,s.source!=null&&(v=this._sources.indexOf(s.source),l+=t.encode(v-f),f=v,l+=t.encode(s.originalLine-1-c),c=s.originalLine-1,l+=t.encode(s.originalColumn-a),a=s.originalColumn,s.name!=null&&(g=this._names.indexOf(s.name),l+=t.encode(g-o),o=g)),i+=l}return i},p.prototype._generateSourcesContent=function(d,u){return d.map(function(a){if(!this._sourcesContents)return null;u!=null&&(a=e.relative(u,a));var c=e.toSetString(a);return Object.prototype.hasOwnProperty.call(this._sourcesContents,c)?this._sourcesContents[c]:null},this)},p.prototype.toJSON=function(){var d={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return this._file!=null&&(d.file=this._file),this._sourceRoot!=null&&(d.sourceRoot=this._sourceRoot),this._sourcesContents&&(d.sourcesContent=this._generateSourcesContent(d.sources,d.sourceRoot)),d},p.prototype.toString=function(){return JSON.stringify(this.toJSON())},_e.SourceMapGenerator=p,_e}var X={},be={},_t;function Fn(){return _t||(_t=1,function(t){t.GREATEST_LOWER_BOUND=1,t.LEAST_UPPER_BOUND=2;function e(r,n,p,h,d,u){var a=Math.floor((n-r)/2)+r,c=d(p,h[a],!0);return c===0?a:c>0?n-a>1?e(a,n,p,h,d,u):u==t.LEAST_UPPER_BOUND?n<h.length?n:-1:a:a-r>1?e(r,a,p,h,d,u):u==t.LEAST_UPPER_BOUND?a:r<0?-1:r}t.search=function(n,p,h,d){if(p.length===0)return-1;var u=e(-1,p.length,n,p,h,d||t.GREATEST_LOWER_BOUND);if(u<0)return-1;for(;u-1>=0&&h(p[u],p[u-1],!0)===0;)--u;return u}}(be)),be}var Ce={},yt;function Vn(){if(yt)return Ce;yt=1;function t(n,p,h){var d=n[p];n[p]=n[h],n[h]=d}function e(n,p){return Math.round(n+Math.random()*(p-n))}function r(n,p,h,d){if(h<d){var u=e(h,d),a=h-1;t(n,u,d);for(var c=n[d],o=h;o<d;o++)p(n[o],c)<=0&&(a+=1,t(n,a,o));t(n,a+1,o);var f=a+1;r(n,p,h,f-1),r(n,p,f+1,d)}}return Ce.quickSort=function(n,p){r(n,p,0,n.length-1)},Ce}var wt;function Wn(){if(wt)return X;wt=1;var t=se(),e=Fn(),r=Ft().ArraySet,n=Ut(),p=Vn().quickSort;function h(c,o){var f=c;return typeof c=="string"&&(f=t.parseSourceMapInput(c)),f.sections!=null?new a(f,o):new d(f,o)}h.fromSourceMap=function(c,o){return d.fromSourceMap(c,o)},h.prototype._version=3,h.prototype.__generatedMappings=null,Object.defineProperty(h.prototype,"_generatedMappings",{configurable:!0,enumerable:!0,get:function(){return this.__generatedMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__generatedMappings}}),h.prototype.__originalMappings=null,Object.defineProperty(h.prototype,"_originalMappings",{configurable:!0,enumerable:!0,get:function(){return this.__originalMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__originalMappings}}),h.prototype._charIsMappingSeparator=function(o,f){var i=o.charAt(f);return i===";"||i===","},h.prototype._parseMappings=function(o,f){throw new Error("Subclasses must implement _parseMappings")},h.GENERATED_ORDER=1,h.ORIGINAL_ORDER=2,h.GREATEST_LOWER_BOUND=1,h.LEAST_UPPER_BOUND=2,h.prototype.eachMapping=function(o,f,i){var l=f||null,s=i||h.GENERATED_ORDER,g;switch(s){case h.GENERATED_ORDER:g=this._generatedMappings;break;case h.ORIGINAL_ORDER:g=this._originalMappings;break;default:throw new Error("Unknown order of iteration.")}var v=this.sourceRoot;g.map(function(w){var _=w.source===null?null:this._sources.at(w.source);return _=t.computeSourceURL(v,_,this._sourceMapURL),{source:_,generatedLine:w.generatedLine,generatedColumn:w.generatedColumn,originalLine:w.originalLine,originalColumn:w.originalColumn,name:w.name===null?null:this._names.at(w.name)}},this).forEach(o,l)},h.prototype.allGeneratedPositionsFor=function(o){var f=t.getArg(o,"line"),i={source:t.getArg(o,"source"),originalLine:f,originalColumn:t.getArg(o,"column",0)};if(i.source=this._findSourceIndex(i.source),i.source<0)return[];var l=[],s=this._findMapping(i,this._originalMappings,"originalLine","originalColumn",t.compareByOriginalPositions,e.LEAST_UPPER_BOUND);if(s>=0){var g=this._originalMappings[s];if(o.column===void 0)for(var v=g.originalLine;g&&g.originalLine===v;)l.push({line:t.getArg(g,"generatedLine",null),column:t.getArg(g,"generatedColumn",null),lastColumn:t.getArg(g,"lastGeneratedColumn",null)}),g=this._originalMappings[++s];else for(var w=g.originalColumn;g&&g.originalLine===f&&g.originalColumn==w;)l.push({line:t.getArg(g,"generatedLine",null),column:t.getArg(g,"generatedColumn",null),lastColumn:t.getArg(g,"lastGeneratedColumn",null)}),g=this._originalMappings[++s]}return l},X.SourceMapConsumer=h;function d(c,o){var f=c;typeof c=="string"&&(f=t.parseSourceMapInput(c));var i=t.getArg(f,"version"),l=t.getArg(f,"sources"),s=t.getArg(f,"names",[]),g=t.getArg(f,"sourceRoot",null),v=t.getArg(f,"sourcesContent",null),w=t.getArg(f,"mappings"),_=t.getArg(f,"file",null);if(i!=this._version)throw new Error("Unsupported version: "+i);g&&(g=t.normalize(g)),l=l.map(String).map(t.normalize).map(function(S){return g&&t.isAbsolute(g)&&t.isAbsolute(S)?t.relative(g,S):S}),this._names=r.fromArray(s.map(String),!0),this._sources=r.fromArray(l,!0),this._absoluteSources=this._sources.toArray().map(function(S){return t.computeSourceURL(g,S,o)}),this.sourceRoot=g,this.sourcesContent=v,this._mappings=w,this._sourceMapURL=o,this.file=_}d.prototype=Object.create(h.prototype),d.prototype.consumer=h,d.prototype._findSourceIndex=function(c){var o=c;if(this.sourceRoot!=null&&(o=t.relative(this.sourceRoot,o)),this._sources.has(o))return this._sources.indexOf(o);var f;for(f=0;f<this._absoluteSources.length;++f)if(this._absoluteSources[f]==c)return f;return-1},d.fromSourceMap=function(o,f){var i=Object.create(d.prototype),l=i._names=r.fromArray(o._names.toArray(),!0),s=i._sources=r.fromArray(o._sources.toArray(),!0);i.sourceRoot=o._sourceRoot,i.sourcesContent=o._generateSourcesContent(i._sources.toArray(),i.sourceRoot),i.file=o._file,i._sourceMapURL=f,i._absoluteSources=i._sources.toArray().map(function(C){return t.computeSourceURL(i.sourceRoot,C,f)});for(var g=o._mappings.toArray().slice(),v=i.__generatedMappings=[],w=i.__originalMappings=[],_=0,S=g.length;_<S;_++){var m=g[_],y=new u;y.generatedLine=m.generatedLine,y.generatedColumn=m.generatedColumn,m.source&&(y.source=s.indexOf(m.source),y.originalLine=m.originalLine,y.originalColumn=m.originalColumn,m.name&&(y.name=l.indexOf(m.name)),w.push(y)),v.push(y)}return p(i.__originalMappings,t.compareByOriginalPositions),i},d.prototype._version=3,Object.defineProperty(d.prototype,"sources",{get:function(){return this._absoluteSources.slice()}});function u(){this.generatedLine=0,this.generatedColumn=0,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}d.prototype._parseMappings=function(o,f){for(var i=1,l=0,s=0,g=0,v=0,w=0,_=o.length,S=0,m={},y={},C=[],b=[],k,M,P,N,z;S<_;)if(o.charAt(S)===";")i++,S++,l=0;else if(o.charAt(S)===",")S++;else{for(k=new u,k.generatedLine=i,N=S;N<_&&!this._charIsMappingSeparator(o,N);N++);if(M=o.slice(S,N),P=m[M],P)S+=M.length;else{for(P=[];S<N;)n.decode(o,S,y),z=y.value,S=y.rest,P.push(z);if(P.length===2)throw new Error("Found a source, but no line and column");if(P.length===3)throw new Error("Found a source and line, but no column");m[M]=P}k.generatedColumn=l+P[0],l=k.generatedColumn,P.length>1&&(k.source=v+P[1],v+=P[1],k.originalLine=s+P[2],s=k.originalLine,k.originalLine+=1,k.originalColumn=g+P[3],g=k.originalColumn,P.length>4&&(k.name=w+P[4],w+=P[4])),b.push(k),typeof k.originalLine=="number"&&C.push(k)}p(b,t.compareByGeneratedPositionsDeflated),this.__generatedMappings=b,p(C,t.compareByOriginalPositions),this.__originalMappings=C},d.prototype._findMapping=function(o,f,i,l,s,g){if(o[i]<=0)throw new TypeError("Line must be greater than or equal to 1, got "+o[i]);if(o[l]<0)throw new TypeError("Column must be greater than or equal to 0, got "+o[l]);return e.search(o,f,s,g)},d.prototype.computeColumnSpans=function(){for(var o=0;o<this._generatedMappings.length;++o){var f=this._generatedMappings[o];if(o+1<this._generatedMappings.length){var i=this._generatedMappings[o+1];if(f.generatedLine===i.generatedLine){f.lastGeneratedColumn=i.generatedColumn-1;continue}}f.lastGeneratedColumn=1/0}},d.prototype.originalPositionFor=function(o){var f={generatedLine:t.getArg(o,"line"),generatedColumn:t.getArg(o,"column")},i=this._findMapping(f,this._generatedMappings,"generatedLine","generatedColumn",t.compareByGeneratedPositionsDeflated,t.getArg(o,"bias",h.GREATEST_LOWER_BOUND));if(i>=0){var l=this._generatedMappings[i];if(l.generatedLine===f.generatedLine){var s=t.getArg(l,"source",null);s!==null&&(s=this._sources.at(s),s=t.computeSourceURL(this.sourceRoot,s,this._sourceMapURL));var g=t.getArg(l,"name",null);return g!==null&&(g=this._names.at(g)),{source:s,line:t.getArg(l,"originalLine",null),column:t.getArg(l,"originalColumn",null),name:g}}}return{source:null,line:null,column:null,name:null}},d.prototype.hasContentsOfAllSources=function(){return this.sourcesContent?this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some(function(o){return o==null}):!1},d.prototype.sourceContentFor=function(o,f){if(!this.sourcesContent)return null;var i=this._findSourceIndex(o);if(i>=0)return this.sourcesContent[i];var l=o;this.sourceRoot!=null&&(l=t.relative(this.sourceRoot,l));var s;if(this.sourceRoot!=null&&(s=t.urlParse(this.sourceRoot))){var g=l.replace(/^file:\/\//,"");if(s.scheme=="file"&&this._sources.has(g))return this.sourcesContent[this._sources.indexOf(g)];if((!s.path||s.path=="/")&&this._sources.has("/"+l))return this.sourcesContent[this._sources.indexOf("/"+l)]}if(f)return null;throw new Error('"'+l+'" is not in the SourceMap.')},d.prototype.generatedPositionFor=function(o){var f=t.getArg(o,"source");if(f=this._findSourceIndex(f),f<0)return{line:null,column:null,lastColumn:null};var i={source:f,originalLine:t.getArg(o,"line"),originalColumn:t.getArg(o,"column")},l=this._findMapping(i,this._originalMappings,"originalLine","originalColumn",t.compareByOriginalPositions,t.getArg(o,"bias",h.GREATEST_LOWER_BOUND));if(l>=0){var s=this._originalMappings[l];if(s.source===i.source)return{line:t.getArg(s,"generatedLine",null),column:t.getArg(s,"generatedColumn",null),lastColumn:t.getArg(s,"lastGeneratedColumn",null)}}return{line:null,column:null,lastColumn:null}},X.BasicSourceMapConsumer=d;function a(c,o){var f=c;typeof c=="string"&&(f=t.parseSourceMapInput(c));var i=t.getArg(f,"version"),l=t.getArg(f,"sections");if(i!=this._version)throw new Error("Unsupported version: "+i);this._sources=new r,this._names=new r;var s={line:-1,column:0};this._sections=l.map(function(g){if(g.url)throw new Error("Support for url field in sections not implemented.");var v=t.getArg(g,"offset"),w=t.getArg(v,"line"),_=t.getArg(v,"column");if(w<s.line||w===s.line&&_<s.column)throw new Error("Section offsets must be ordered and non-overlapping.");return s=v,{generatedOffset:{generatedLine:w+1,generatedColumn:_+1},consumer:new h(t.getArg(g,"map"),o)}})}return a.prototype=Object.create(h.prototype),a.prototype.constructor=h,a.prototype._version=3,Object.defineProperty(a.prototype,"sources",{get:function(){for(var c=[],o=0;o<this._sections.length;o++)for(var f=0;f<this._sections[o].consumer.sources.length;f++)c.push(this._sections[o].consumer.sources[f]);return c}}),a.prototype.originalPositionFor=function(o){var f={generatedLine:t.getArg(o,"line"),generatedColumn:t.getArg(o,"column")},i=e.search(f,this._sections,function(s,g){var v=s.generatedLine-g.generatedOffset.generatedLine;return v||s.generatedColumn-g.generatedOffset.generatedColumn}),l=this._sections[i];return l?l.consumer.originalPositionFor({line:f.generatedLine-(l.generatedOffset.generatedLine-1),column:f.generatedColumn-(l.generatedOffset.generatedLine===f.generatedLine?l.generatedOffset.generatedColumn-1:0),bias:o.bias}):{source:null,line:null,column:null,name:null}},a.prototype.hasContentsOfAllSources=function(){return this._sections.every(function(o){return o.consumer.hasContentsOfAllSources()})},a.prototype.sourceContentFor=function(o,f){for(var i=0;i<this._sections.length;i++){var l=this._sections[i],s=l.consumer.sourceContentFor(o,!0);if(s)return s}if(f)return null;throw new Error('"'+o+'" is not in the SourceMap.')},a.prototype.generatedPositionFor=function(o){for(var f=0;f<this._sections.length;f++){var i=this._sections[f];if(i.consumer._findSourceIndex(t.getArg(o,"source"))!==-1){var l=i.consumer.generatedPositionFor(o);if(l){var s={line:l.line+(i.generatedOffset.generatedLine-1),column:l.column+(i.generatedOffset.generatedLine===l.line?i.generatedOffset.generatedColumn-1:0)};return s}}}return{line:null,column:null}},a.prototype._parseMappings=function(o,f){this.__generatedMappings=[],this.__originalMappings=[];for(var i=0;i<this._sections.length;i++)for(var l=this._sections[i],s=l.consumer._generatedMappings,g=0;g<s.length;g++){var v=s[g],w=l.consumer._sources.at(v.source);w=t.computeSourceURL(l.consumer.sourceRoot,w,this._sourceMapURL),this._sources.add(w),w=this._sources.indexOf(w);var _=null;v.name&&(_=l.consumer._names.at(v.name),this._names.add(_),_=this._names.indexOf(_));var S={source:w,generatedLine:v.generatedLine+(l.generatedOffset.generatedLine-1),generatedColumn:v.generatedColumn+(l.generatedOffset.generatedLine===v.generatedLine?l.generatedOffset.generatedColumn-1:0),originalLine:v.originalLine,originalColumn:v.originalColumn,name:_};this.__generatedMappings.push(S),typeof S.originalLine=="number"&&this.__originalMappings.push(S)}p(this.__generatedMappings,t.compareByGeneratedPositionsDeflated),p(this.__originalMappings,t.compareByOriginalPositions)},X.IndexedSourceMapConsumer=a,X}var ke={},St;function Gn(){if(St)return ke;St=1;var t=Vt().SourceMapGenerator,e=se(),r=/(\r?\n)/,n=10,p="$$$isSourceNode$$$";function h(d,u,a,c,o){this.children=[],this.sourceContents={},this.line=d??null,this.column=u??null,this.source=a??null,this.name=o??null,this[p]=!0,c!=null&&this.add(c)}return h.fromStringWithSourceMap=function(u,a,c){var o=new h,f=u.split(r),i=0,l=function(){var _=m(),S=m()||"";return _+S;function m(){return i<f.length?f[i++]:void 0}},s=1,g=0,v=null;return a.eachMapping(function(_){if(v!==null)if(s<_.generatedLine)w(v,l()),s++,g=0;else{var S=f[i]||"",m=S.substr(0,_.generatedColumn-g);f[i]=S.substr(_.generatedColumn-g),g=_.generatedColumn,w(v,m),v=_;return}for(;s<_.generatedLine;)o.add(l()),s++;if(g<_.generatedColumn){var S=f[i]||"";o.add(S.substr(0,_.generatedColumn)),f[i]=S.substr(_.generatedColumn),g=_.generatedColumn}v=_},this),i<f.length&&(v&&w(v,l()),o.add(f.splice(i).join(""))),a.sources.forEach(function(_){var S=a.sourceContentFor(_);S!=null&&(c!=null&&(_=e.join(c,_)),o.setSourceContent(_,S))}),o;function w(_,S){if(_===null||_.source===void 0)o.add(S);else{var m=c?e.join(c,_.source):_.source;o.add(new h(_.originalLine,_.originalColumn,m,S,_.name))}}},h.prototype.add=function(u){if(Array.isArray(u))u.forEach(function(a){this.add(a)},this);else if(u[p]||typeof u=="string")u&&this.children.push(u);else throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+u);return this},h.prototype.prepend=function(u){if(Array.isArray(u))for(var a=u.length-1;a>=0;a--)this.prepend(u[a]);else if(u[p]||typeof u=="string")this.children.unshift(u);else throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+u);return this},h.prototype.walk=function(u){for(var a,c=0,o=this.children.length;c<o;c++)a=this.children[c],a[p]?a.walk(u):a!==""&&u(a,{source:this.source,line:this.line,column:this.column,name:this.name})},h.prototype.join=function(u){var a,c,o=this.children.length;if(o>0){for(a=[],c=0;c<o-1;c++)a.push(this.children[c]),a.push(u);a.push(this.children[c]),this.children=a}return this},h.prototype.replaceRight=function(u,a){var c=this.children[this.children.length-1];return c[p]?c.replaceRight(u,a):typeof c=="string"?this.children[this.children.length-1]=c.replace(u,a):this.children.push("".replace(u,a)),this},h.prototype.setSourceContent=function(u,a){this.sourceContents[e.toSetString(u)]=a},h.prototype.walkSourceContents=function(u){for(var a=0,c=this.children.length;a<c;a++)this.children[a][p]&&this.children[a].walkSourceContents(u);for(var o=Object.keys(this.sourceContents),a=0,c=o.length;a<c;a++)u(e.fromSetString(o[a]),this.sourceContents[o[a]])},h.prototype.toString=function(){var u="";return this.walk(function(a){u+=a}),u},h.prototype.toStringWithSourceMap=function(u){var a={code:"",line:1,column:0},c=new t(u),o=!1,f=null,i=null,l=null,s=null;return this.walk(function(g,v){a.code+=g,v.source!==null&&v.line!==null&&v.column!==null?((f!==v.source||i!==v.line||l!==v.column||s!==v.name)&&c.addMapping({source:v.source,original:{line:v.line,column:v.column},generated:{line:a.line,column:a.column},name:v.name}),f=v.source,i=v.line,l=v.column,s=v.name,o=!0):o&&(c.addMapping({generated:{line:a.line,column:a.column}}),f=null,o=!1);for(var w=0,_=g.length;w<_;w++)g.charCodeAt(w)===n?(a.line++,a.column=0,w+1===_?(f=null,o=!1):o&&c.addMapping({source:v.source,original:{line:v.line,column:v.column},generated:{line:a.line,column:a.column},name:v.name})):a.column++}),this.walkSourceContents(function(g,v){c.setSourceContent(g,v)}),{code:a.code,map:c}},ke.SourceNode=h,ke}var bt;function Kn(){return bt||(bt=1,j.SourceMapGenerator=Vt().SourceMapGenerator,j.SourceMapConsumer=Wn().SourceMapConsumer,j.SourceNode=Gn().SourceNode),j}(function(t,e){e.__esModule=!0;var r=x,n=void 0;try{var p=Kn();n=p.SourceNode}catch{}n||(n=function(u,a,c,o){this.src="",o&&this.add(o)},n.prototype={add:function(a){r.isArray(a)&&(a=a.join("")),this.src+=a},prepend:function(a){r.isArray(a)&&(a=a.join("")),this.src=a+this.src},toStringWithSourceMap:function(){return{code:this.toString()}},toString:function(){return this.src}});function h(u,a,c){if(r.isArray(u)){for(var o=[],f=0,i=u.length;f<i;f++)o.push(a.wrap(u[f],c));return o}else if(typeof u=="boolean"||typeof u=="number")return u+"";return u}function d(u){this.srcFile=u,this.source=[]}d.prototype={isEmpty:function(){return!this.source.length},prepend:function(a,c){this.source.unshift(this.wrap(a,c))},push:function(a,c){this.source.push(this.wrap(a,c))},merge:function(){var a=this.empty();return this.each(function(c){a.add(["  ",c,`
`])}),a},each:function(a){for(var c=0,o=this.source.length;c<o;c++)a(this.source[c])},empty:function(){var a=this.currentLocation||{start:{}};return new n(a.start.line,a.start.column,this.srcFile)},wrap:function(a){var c=arguments.length<=1||arguments[1]===void 0?this.currentLocation||{start:{}}:arguments[1];return a instanceof n?a:(a=h(a,this,c),new n(c.start.line,c.start.column,this.srcFile,a))},functionCall:function(a,c,o){return o=this.generateList(o),this.wrap([a,c?"."+c+"(":"(",o,")"])},quotedString:function(a){return'"'+(a+"").replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")+'"'},objectLiteral:function(a){var c=this,o=[];Object.keys(a).forEach(function(i){var l=h(a[i],c);l!=="undefined"&&o.push([c.quotedString(i),":",l])});var f=this.generateList(o);return f.prepend("{"),f.add("}"),f},generateList:function(a){for(var c=this.empty(),o=0,f=a.length;o<f;o++)o&&c.add(","),c.add(h(a[o],this));return c},generateArray:function(a){var c=this.generateList(a);return c.prepend("["),c.add("]"),c}},e.default=d,t.exports=e.default})(Je,Je.exports);var zn=Je.exports;(function(t,e){e.__esModule=!0;function r(i){return i&&i.__esModule?i:{default:i}}var n=D,p=B,h=r(p),d=x,u=zn,a=r(u);function c(i){this.value=i}function o(){}o.prototype={nameLookup:function(l,s){return this.internalNameLookup(l,s)},depthedLookup:function(l){return[this.aliasable("container.lookup"),"(depths, ",JSON.stringify(l),")"]},compilerInfo:function(){var l=n.COMPILER_REVISION,s=n.REVISION_CHANGES[l];return[l,s]},appendToBuffer:function(l,s,g){return d.isArray(l)||(l=[l]),l=this.source.wrap(l,s),this.environment.isSimple?["return ",l,";"]:g?["buffer += ",l,";"]:(l.appendToBuffer=!0,l)},initializeBuffer:function(){return this.quotedString("")},internalNameLookup:function(l,s){return this.lookupPropertyFunctionIsUsed=!0,["lookupProperty(",l,",",JSON.stringify(s),")"]},lookupPropertyFunctionIsUsed:!1,compile:function(l,s,g,v){this.environment=l,this.options=s,this.stringParams=this.options.stringParams,this.trackIds=this.options.trackIds,this.precompile=!v,this.name=this.environment.name,this.isChild=!!g,this.context=g||{decorators:[],programs:[],environments:[]},this.preamble(),this.stackSlot=0,this.stackVars=[],this.aliases={},this.registers={list:[]},this.hashes=[],this.compileStack=[],this.inlineStack=[],this.blockParams=[],this.compileChildren(l,s),this.useDepths=this.useDepths||l.useDepths||l.useDecorators||this.options.compat,this.useBlockParams=this.useBlockParams||l.useBlockParams;var w=l.opcodes,_=void 0,S=void 0,m=void 0,y=void 0;for(m=0,y=w.length;m<y;m++)_=w[m],this.source.currentLocation=_.loc,S=S||_.loc,this[_.opcode].apply(this,_.args);if(this.source.currentLocation=S,this.pushSource(""),this.stackSlot||this.inlineStack.length||this.compileStack.length)throw new h.default("Compile completed with content left on stack");this.decorators.isEmpty()?this.decorators=void 0:(this.useDecorators=!0,this.decorators.prepend(["var decorators = container.decorators, ",this.lookupPropertyFunctionVarDeclaration(),`;
`]),this.decorators.push("return fn;"),v?this.decorators=Function.apply(this,["fn","props","container","depth0","data","blockParams","depths",this.decorators.merge()]):(this.decorators.prepend(`function(fn, props, container, depth0, data, blockParams, depths) {
`),this.decorators.push(`}
`),this.decorators=this.decorators.merge()));var C=this.createFunctionContext(v);if(this.isChild)return C;var b={compiler:this.compilerInfo(),main:C};this.decorators&&(b.main_d=this.decorators,b.useDecorators=!0);var k=this.context,M=k.programs,P=k.decorators;for(m=0,y=M.length;m<y;m++)M[m]&&(b[m]=M[m],P[m]&&(b[m+"_d"]=P[m],b.useDecorators=!0));return this.environment.usePartial&&(b.usePartial=!0),this.options.data&&(b.useData=!0),this.useDepths&&(b.useDepths=!0),this.useBlockParams&&(b.useBlockParams=!0),this.options.compat&&(b.compat=!0),v?b.compilerOptions=this.options:(b.compiler=JSON.stringify(b.compiler),this.source.currentLocation={start:{line:1,column:0}},b=this.objectLiteral(b),s.srcName?(b=b.toStringWithSourceMap({file:s.destName}),b.map=b.map&&b.map.toString()):b=b.toString()),b},preamble:function(){this.lastContext=0,this.source=new a.default(this.options.srcName),this.decorators=new a.default(this.options.srcName)},createFunctionContext:function(l){var s=this,g="",v=this.stackVars.concat(this.registers.list);v.length>0&&(g+=", "+v.join(", "));var w=0;Object.keys(this.aliases).forEach(function(m){var y=s.aliases[m];y.children&&y.referenceCount>1&&(g+=", alias"+ ++w+"="+m,y.children[0]="alias"+w)}),this.lookupPropertyFunctionIsUsed&&(g+=", "+this.lookupPropertyFunctionVarDeclaration());var _=["container","depth0","helpers","partials","data"];(this.useBlockParams||this.useDepths)&&_.push("blockParams"),this.useDepths&&_.push("depths");var S=this.mergeSource(g);return l?(_.push(S),Function.apply(this,_)):this.source.wrap(["function(",_.join(","),`) {
  `,S,"}"])},mergeSource:function(l){var s=this.environment.isSimple,g=!this.forceBuffer,v=void 0,w=void 0,_=void 0,S=void 0;return this.source.each(function(m){m.appendToBuffer?(_?m.prepend("  + "):_=m,S=m):(_&&(w?_.prepend("buffer += "):v=!0,S.add(";"),_=S=void 0),w=!0,s||(g=!1))}),g?_?(_.prepend("return "),S.add(";")):w||this.source.push('return "";'):(l+=", buffer = "+(v?"":this.initializeBuffer()),_?(_.prepend("return buffer + "),S.add(";")):this.source.push("return buffer;")),l&&this.source.prepend("var "+l.substring(2)+(v?"":`;
`)),this.source.merge()},lookupPropertyFunctionVarDeclaration:function(){return`
      lookupProperty = container.lookupProperty || function(parent, propertyName) {
        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {
          return parent[propertyName];
        }
        return undefined
    }
    `.trim()},blockValue:function(l){var s=this.aliasable("container.hooks.blockHelperMissing"),g=[this.contextName(0)];this.setupHelperArgs(l,0,g);var v=this.popStack();g.splice(1,0,v),this.push(this.source.functionCall(s,"call",g))},ambiguousBlockValue:function(){var l=this.aliasable("container.hooks.blockHelperMissing"),s=[this.contextName(0)];this.setupHelperArgs("",0,s,!0),this.flushInline();var g=this.topStack();s.splice(1,0,g),this.pushSource(["if (!",this.lastHelper,") { ",g," = ",this.source.functionCall(l,"call",s),"}"])},appendContent:function(l){this.pendingContent?l=this.pendingContent+l:this.pendingLocation=this.source.currentLocation,this.pendingContent=l},append:function(){if(this.isInline())this.replaceStack(function(s){return[" != null ? ",s,' : ""']}),this.pushSource(this.appendToBuffer(this.popStack()));else{var l=this.popStack();this.pushSource(["if (",l," != null) { ",this.appendToBuffer(l,void 0,!0)," }"]),this.environment.isSimple&&this.pushSource(["else { ",this.appendToBuffer("''",void 0,!0)," }"])}},appendEscaped:function(){this.pushSource(this.appendToBuffer([this.aliasable("container.escapeExpression"),"(",this.popStack(),")"]))},getContext:function(l){this.lastContext=l},pushContext:function(){this.pushStackLiteral(this.contextName(this.lastContext))},lookupOnContext:function(l,s,g,v){var w=0;!v&&this.options.compat&&!this.lastContext?this.push(this.depthedLookup(l[w++])):this.pushContext(),this.resolvePath("context",l,w,s,g)},lookupBlockParam:function(l,s){this.useBlockParams=!0,this.push(["blockParams[",l[0],"][",l[1],"]"]),this.resolvePath("context",s,1)},lookupData:function(l,s,g){l?this.pushStackLiteral("container.data(data, "+l+")"):this.pushStackLiteral("data"),this.resolvePath("data",s,0,!0,g)},resolvePath:function(l,s,g,v,w){var _=this;if(this.options.strict||this.options.assumeObjects){this.push(f(this.options.strict&&w,this,s,g,l));return}for(var S=s.length;g<S;g++)this.replaceStack(function(m){var y=_.nameLookup(m,s[g],l);return v?[" && ",y]:[" != null ? ",y," : ",m]})},resolvePossibleLambda:function(){this.push([this.aliasable("container.lambda"),"(",this.popStack(),", ",this.contextName(0),")"])},pushStringParam:function(l,s){this.pushContext(),this.pushString(s),s!=="SubExpression"&&(typeof l=="string"?this.pushString(l):this.pushStackLiteral(l))},emptyHash:function(l){this.trackIds&&this.push("{}"),this.stringParams&&(this.push("{}"),this.push("{}")),this.pushStackLiteral(l?"undefined":"{}")},pushHash:function(){this.hash&&this.hashes.push(this.hash),this.hash={values:{},types:[],contexts:[],ids:[]}},popHash:function(){var l=this.hash;this.hash=this.hashes.pop(),this.trackIds&&this.push(this.objectLiteral(l.ids)),this.stringParams&&(this.push(this.objectLiteral(l.contexts)),this.push(this.objectLiteral(l.types))),this.push(this.objectLiteral(l.values))},pushString:function(l){this.pushStackLiteral(this.quotedString(l))},pushLiteral:function(l){this.pushStackLiteral(l)},pushProgram:function(l){l!=null?this.pushStackLiteral(this.programExpression(l)):this.pushStackLiteral(null)},registerDecorator:function(l,s){var g=this.nameLookup("decorators",s,"decorator"),v=this.setupHelperArgs(s,l);this.decorators.push(["fn = ",this.decorators.functionCall(g,"",["fn","props","container",v])," || fn;"])},invokeHelper:function(l,s,g){var v=this.popStack(),w=this.setupHelper(l,s),_=[];g&&_.push(w.name),_.push(v),this.options.strict||_.push(this.aliasable("container.hooks.helperMissing"));var S=["(",this.itemsSeparatedBy(_,"||"),")"],m=this.source.functionCall(S,"call",w.callParams);this.push(m)},itemsSeparatedBy:function(l,s){var g=[];g.push(l[0]);for(var v=1;v<l.length;v++)g.push(s,l[v]);return g},invokeKnownHelper:function(l,s){var g=this.setupHelper(l,s);this.push(this.source.functionCall(g.name,"call",g.callParams))},invokeAmbiguous:function(l,s){this.useRegister("helper");var g=this.popStack();this.emptyHash();var v=this.setupHelper(0,l,s),w=this.lastHelper=this.nameLookup("helpers",l,"helper"),_=["(","(helper = ",w," || ",g,")"];this.options.strict||(_[0]="(helper = ",_.push(" != null ? helper : ",this.aliasable("container.hooks.helperMissing"))),this.push(["(",_,v.paramsInit?["),(",v.paramsInit]:[],"),","(typeof helper === ",this.aliasable('"function"')," ? ",this.source.functionCall("helper","call",v.callParams)," : helper))"])},invokePartial:function(l,s,g){var v=[],w=this.setupParams(s,1,v);l&&(s=this.popStack(),delete w.name),g&&(w.indent=JSON.stringify(g)),w.helpers="helpers",w.partials="partials",w.decorators="container.decorators",l?v.unshift(s):v.unshift(this.nameLookup("partials",s,"partial")),this.options.compat&&(w.depths="depths"),w=this.objectLiteral(w),v.push(w),this.push(this.source.functionCall("container.invokePartial","",v))},assignToHash:function(l){var s=this.popStack(),g=void 0,v=void 0,w=void 0;this.trackIds&&(w=this.popStack()),this.stringParams&&(v=this.popStack(),g=this.popStack());var _=this.hash;g&&(_.contexts[l]=g),v&&(_.types[l]=v),w&&(_.ids[l]=w),_.values[l]=s},pushId:function(l,s,g){l==="BlockParam"?this.pushStackLiteral("blockParams["+s[0]+"].path["+s[1]+"]"+(g?" + "+JSON.stringify("."+g):"")):l==="PathExpression"?this.pushString(s):l==="SubExpression"?this.pushStackLiteral("true"):this.pushStackLiteral("null")},compiler:o,compileChildren:function(l,s){for(var g=l.children,v=void 0,w=void 0,_=0,S=g.length;_<S;_++){v=g[_],w=new this.compiler;var m=this.matchExistingProgram(v);if(m==null){this.context.programs.push("");var y=this.context.programs.length;v.index=y,v.name="program"+y,this.context.programs[y]=w.compile(v,s,this.context,!this.precompile),this.context.decorators[y]=w.decorators,this.context.environments[y]=v,this.useDepths=this.useDepths||w.useDepths,this.useBlockParams=this.useBlockParams||w.useBlockParams,v.useDepths=this.useDepths,v.useBlockParams=this.useBlockParams}else v.index=m.index,v.name="program"+m.index,this.useDepths=this.useDepths||m.useDepths,this.useBlockParams=this.useBlockParams||m.useBlockParams}},matchExistingProgram:function(l){for(var s=0,g=this.context.environments.length;s<g;s++){var v=this.context.environments[s];if(v&&v.equals(l))return v}},programExpression:function(l){var s=this.environment.children[l],g=[s.index,"data",s.blockParams];return(this.useBlockParams||this.useDepths)&&g.push("blockParams"),this.useDepths&&g.push("depths"),"container.program("+g.join(", ")+")"},useRegister:function(l){this.registers[l]||(this.registers[l]=!0,this.registers.list.push(l))},push:function(l){return l instanceof c||(l=this.source.wrap(l)),this.inlineStack.push(l),l},pushStackLiteral:function(l){this.push(new c(l))},pushSource:function(l){this.pendingContent&&(this.source.push(this.appendToBuffer(this.source.quotedString(this.pendingContent),this.pendingLocation)),this.pendingContent=void 0),l&&this.source.push(l)},replaceStack:function(l){var s=["("],g=void 0,v=void 0,w=void 0;if(!this.isInline())throw new h.default("replaceStack on non-inline");var _=this.popStack(!0);if(_ instanceof c)g=[_.value],s=["(",g],w=!0;else{v=!0;var S=this.incrStack();s=["((",this.push(S)," = ",_,")"],g=this.topStack()}var m=l.call(this,g);w||this.popStack(),v&&this.stackSlot--,this.push(s.concat(m,")"))},incrStack:function(){return this.stackSlot++,this.stackSlot>this.stackVars.length&&this.stackVars.push("stack"+this.stackSlot),this.topStackName()},topStackName:function(){return"stack"+this.stackSlot},flushInline:function(){var l=this.inlineStack;this.inlineStack=[];for(var s=0,g=l.length;s<g;s++){var v=l[s];if(v instanceof c)this.compileStack.push(v);else{var w=this.incrStack();this.pushSource([w," = ",v,";"]),this.compileStack.push(w)}}},isInline:function(){return this.inlineStack.length},popStack:function(l){var s=this.isInline(),g=(s?this.inlineStack:this.compileStack).pop();if(!l&&g instanceof c)return g.value;if(!s){if(!this.stackSlot)throw new h.default("Invalid stack pop");this.stackSlot--}return g},topStack:function(){var l=this.isInline()?this.inlineStack:this.compileStack,s=l[l.length-1];return s instanceof c?s.value:s},contextName:function(l){return this.useDepths&&l?"depths["+l+"]":"depth"+l},quotedString:function(l){return this.source.quotedString(l)},objectLiteral:function(l){return this.source.objectLiteral(l)},aliasable:function(l){var s=this.aliases[l];return s?(s.referenceCount++,s):(s=this.aliases[l]=this.source.wrap(l),s.aliasable=!0,s.referenceCount=1,s)},setupHelper:function(l,s,g){var v=[],w=this.setupHelperArgs(s,l,v,g),_=this.nameLookup("helpers",s,"helper"),S=this.aliasable(this.contextName(0)+" != null ? "+this.contextName(0)+" : (container.nullContext || {})");return{params:v,paramsInit:w,name:_,callParams:[S].concat(v)}},setupParams:function(l,s,g){var v={},w=[],_=[],S=[],m=!g,y=void 0;m&&(g=[]),v.name=this.quotedString(l),v.hash=this.popStack(),this.trackIds&&(v.hashIds=this.popStack()),this.stringParams&&(v.hashTypes=this.popStack(),v.hashContexts=this.popStack());var C=this.popStack(),b=this.popStack();(b||C)&&(v.fn=b||"container.noop",v.inverse=C||"container.noop");for(var k=s;k--;)y=this.popStack(),g[k]=y,this.trackIds&&(S[k]=this.popStack()),this.stringParams&&(_[k]=this.popStack(),w[k]=this.popStack());return m&&(v.args=this.source.generateArray(g)),this.trackIds&&(v.ids=this.source.generateArray(S)),this.stringParams&&(v.types=this.source.generateArray(_),v.contexts=this.source.generateArray(w)),this.options.data&&(v.data="data"),this.useBlockParams&&(v.blockParams="blockParams"),v},setupHelperArgs:function(l,s,g,v){var w=this.setupParams(l,s,g);return w.loc=JSON.stringify(this.source.currentLocation),w=this.objectLiteral(w),v?(this.useRegister("options"),g.push("options"),["options=",w]):g?(g.push(w),""):w}},function(){for(var i="break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield await null true false".split(" "),l=o.RESERVED_WORDS={},s=0,g=i.length;s<g;s++)l[i[s]]=!0}(),o.isValidJavaScriptVariableName=function(i){return!o.RESERVED_WORDS[i]&&/^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(i)};function f(i,l,s,g,v){var w=l.popStack(),_=s.length;for(i&&_--;g<_;g++)w=l.nameLookup(w,s[g],v);return i?[l.aliasable("container.strict"),"(",w,", ",l.quotedString(s[g]),", ",JSON.stringify(l.source.currentLocation)," )"]:w}e.default=o,t.exports=e.default})(Qe,Qe.exports);var Yn=Qe.exports;(function(t,e){e.__esModule=!0;function r(_){return _&&_.__esModule?_:{default:_}}var n=pn,p=r(n),h=Dt,d=r(h),u=ne,a=ie,c=Yn,o=r(c),f=Rt,i=r(f),l=It,s=r(l),g=p.default.create;function v(){var _=g();return _.compile=function(S,m){return a.compile(S,m,_)},_.precompile=function(S,m){return a.precompile(S,m,_)},_.AST=d.default,_.Compiler=a.Compiler,_.JavaScriptCompiler=o.default,_.Parser=u.parser,_.parse=u.parse,_.parseWithoutProcessing=u.parseWithoutProcessing,_}var w=v();w.create=v,s.default(w),w.Visitor=i.default,w.default=w,e.default=w,t.exports=e.default})(Pe,Pe.exports);var Zn=Pe.exports;const U=zt(Zn),I=class I{constructor(e={}){this.id=Kt(6),this.refs={},this.children=[],this._element=null,this.setProps=n=>{n&&Object.assign(this.props,n)};const r=new Lt;this.props=this._makePropsProxy(e),this.eventBus=()=>r,this._registerEvents(r),r.emit(I.EVENTS.INIT)}_addEvents(){const{events:e={}}=this.props;Object.keys(e).forEach(r=>{this._element.addEventListener(r,e[r])})}_removeEvents(){const{events:e={}}=this.props;Object.keys(e).forEach(r=>{this._element.removeEventListener(r,e[r])})}_registerEvents(e){e.on(I.EVENTS.INIT,this._init.bind(this)),e.on(I.EVENTS.FLOW_CDM,this._componentDidMount.bind(this)),e.on(I.EVENTS.FLOW_CDU,this._componentDidUpdate.bind(this)),e.on(I.EVENTS.FLOW_CWU,this._componentWillUnmount.bind(this)),e.on(I.EVENTS.FLOW_RENDER,this._render.bind(this))}_init(){this.init(),this.eventBus().emit(I.EVENTS.FLOW_RENDER)}init(){}_componentDidMount(){this._checkInDom(),this.componentDidMount()}componentDidMount(){}dispatchComponentDidMount(){this.eventBus().emit(I.EVENTS.FLOW_CDM),Object.values(this.children).forEach(e=>e.dispatchComponentDidMount())}_componentDidUpdate(e,r){this.componentDidUpdate(e,r)&&this.eventBus().emit(I.EVENTS.FLOW_RENDER)}componentDidUpdate(e,r){return!0}_checkInDom(){if(document.body.contains(this._element)){setTimeout(()=>this._checkInDom(),1e3);return}this.eventBus().emit(I.EVENTS.FLOW_CWU,this.props)}_componentWillUnmount(){this.componentWillUnmount()}componentWillUnmount(){}get element(){return this._element}_render(){const r=this.compile(this.render(),this.props).firstElementChild;this._element&&(this._removeEvents(),this._element.replaceWith(r)),this._element=r,this._addEvents()}compile(e,r){var d;const n={...r,__refs:this.refs};Object.entries(this.children).forEach(([u,a])=>{n[u]=`<div data-id="${a.id}"></div>`});const p=U.compile(e)(n),h=document.createElement("template");return h.innerHTML=p,(d=n.__children)==null||d.forEach(({embed:u})=>{u(h.content)}),Object.values(this.children).forEach(u=>{const a=h.content.querySelector(`[data-id="${u.id}"]`);a==null||a.replaceWith(u.getContent())}),h.content}render(){return""}getContent(){var e,r;return((r=(e=this.element)==null?void 0:e.parentNode)==null?void 0:r.nodeType)===Node.DOCUMENT_FRAGMENT_NODE&&setTimeout(()=>{var n,p;((p=(n=this.element)==null?void 0:n.parentNode)==null?void 0:p.nodeType)!==Node.DOCUMENT_FRAGMENT_NODE&&this.dispatchComponentDidMount()},100),this._element}_makePropsProxy(e){const r=this;return new Proxy(e,{get(n,p){if(!(p in n))return;const h=n[p];return typeof h=="function"?h.bind(n):h},set(n,p,h){const d={...n};return n[p]=h,r.eventBus().emit(I.EVENTS.FLOW_CDU,d,n),!0},deleteProperty(){throw new Error("Нет доступа")}})}show(){this.getContent().style.display=""}hide(){this.getContent().style.display="none"}};I.EVENTS={INIT:"init",FLOW_CDM:"flow:component-did-mount",FLOW_CDU:"flow:component-did-update",FLOW_CWU:"flow:component-will-unmount",FLOW_RENDER:"flow:render"};let L=I;function A(t,e){if(t in U.helpers)throw`The ${t} component is already registered!`;U.registerHelper(t,function({hash:r,data:n,fn:p}){const h=new e(r),d=`data-id="${h.id}"`;"ref"in r&&((n.root.__refs=n.root.__refs||{})[r.ref]=h),(n.root.__children=n.root.__children||[]).push({component:h,embed(a){var o;const c=a.querySelector(`[${d}]`);c&&((o=h.getContent())==null||o.append(...Array.from(c.childNodes)),c.replaceWith(h.getContent()))}});const u=p?p(this):"";return`<div ${d}>${u}</div>`})}class Qn extends L{constructor(e){super({...e,events:{blur:r=>e.onBlur(r)}})}render(){const{className:e,placeholder:r,disabled:n,type:p}=this.props;return`
      <input
        class="${e}"
        placeholder="${r||""}"
        type="${p}"
        ${n?"disabled":""}
      />
    `}}class Jn extends L{constructor(e){super({...e})}render(){return`
      <label 
        ref="errorLine"
        class="input__helper ${this.props.error?"":"input__helper--disabled"}"
      >
        {{error}}
      </label>
    `}}A("CoreInput",Qn);A("ErrorLine",Jn);class jn extends L{constructor(e){super({...e,onBlur:()=>this.validate()})}value(){var e;return this.validate()?(e=this.refs.input.element)==null?void 0:e.value:null}resetValue(){this.refs.input.element&&(this.refs.input.element.value=this.props.value??"",this.refs.errorLine.setProps({error:!1}))}componentDidMount(){this.refs.input.element&&(this.refs.input.element.value=this.props.value??"")}validate(){var n,p,h;const e=(n=this.refs.input.element)==null?void 0:n.value,r=(h=(p=this.props).validate)==null?void 0:h.call(p,e??"");return r?(this.refs.errorLine.setProps({error:r}),!1):(this.refs.errorLine.setProps({error:!1}),!0)}render(){const{label:e,id:r,placeholder:n,disabled:p,styleType:h,type:d}=this.props;return`
      <div class="input ${p?"input--disabled":""} input--${h||"text"}">
        <label for="${r}" class="input__label">${e}</label>
        {{{ CoreInput
            type="${d}"
            ref="input"
            placeholder="${n}"
            className="input__field {{#if helper-text}} input__field--error{{/if}}"
            name=${r}
            onBlur=onBlur
            disabled=${p}
        }}}
        {{{ ErrorLine ref="errorLine" }}}
      </div>
    `}}class Xn extends L{constructor(e){super({type:"default",color:"default",...e})}init(){const e=this.props.onClick??(()=>{});this.props.events={click:r=>{r.preventDefault(),e()}}}render(){const{type:e,color:r,label:n,action:p,form:h}=this.props;return`
      <button 
        class="button button__${e} button--${r}"
        ${p?`type="${e}"`:""}
        ${h?`form="${h}"`:""}
      >
        ${n}
      </button>
    `}}class $n extends L{constructor(){super()}render(){return`
       <div class="divider"></div>
    `}}class ei extends L{constructor(e){super({...e,events:{click:e.onClick}})}render(){return`
      <div class="button-back">
        <div class="button-back__wrapper">
          <img src={{icons "icon-back"}} alt="icon-back" page="{{page}}">
        </div>
      </div>
    `}}class ti extends L{constructor(e){super(e)}render(){return`
        <div id={{id}} class='modal ${this.props.open?"modal--opened":""}'></div>
    `}}class ri extends L{constructor(e){super(e)}render(){const{error:e}=this.props;return`
      <div class="input__helper">${e||""}</div>
    `}}const Q={Button:Xn,ButtonBack:ei,Divider:$n,ErrorMessage:ri,Input:jn,Modal:ti},ni=`<div class="center-layout">
    {{> @partial-block}}
</div>
`,ii=`<div class="form-layout">
    {{> @partial-block}}
</div>
`,si=Object.freeze(Object.defineProperty({__proto__:null,CenterLayout:ni,FormLayout:ii},Symbol.toStringTag,{value:"Module"}));class ai extends L{constructor(e){super({...e,events:{keyup:e.onKeyUp}})}render(){return`
      <input
        id="chat-navigation-search" 
        type="text" 
        class="chat-navigation-search-input" 
      />
    `}}const Wt=t=>{const e=t.getHours(),r=t.getMinutes();return`${e}:${r}`},oi=(t,e)=>t===e,li=(t,e)=>{const r=document.querySelector(t),n=e.getContent();return r&&n&&r.appendChild(n),r},ui=t=>{const e=new RegExp("^[a-zA-Z0-9-_]{3,20}$");return t!=null&&t.match(e)?!1:"Логин должен содержать от 3 до 20 символов, представляющих латиницу, цифры, но не состоять из них, без пробелов, возможны дефис и нижнее подчеркивание"},ci=t=>{const e=new RegExp("^[wА-ЯA-Z][a-zA-Zwа-яwА-ЯёЁ]+$");return t!=null&&t.match(e)?!1:"Допустимы только символы кириллицы и латиницы, первая буква - заглавная"},pi=t=>{const e=new RegExp("^(?!s*$).+");return t!=null&&t.match(e)?!1:"Строка не должна быть пустой"},hi=t=>{const e=new RegExp("^[a-zA-Z0-9-_]+@[a-zA-Z]+.[a-zA-Z]+$");return t!=null&&t.match(e)?!1:"Email должен быть корректным, например: na-_me@soup.ru"},di=t=>{const e=new RegExp(/^\+?[0-9]{10,15}$/);return t!=null&&t.match(e)?!1:"Телефон может начинаться с плюса и должен содержать от 10 до 15 цифр"},fi=t=>{const e=new RegExp(/^(?=.*[A-Z])(?=.*[0-9]).+$/);return!(t!=null&&t.match(e))||((t==null?void 0:t.length)??0)<8||40<((t==null?void 0:t.length)??0)?"Пароль должен содержать от 8 до 40 символов, обязательно одну заглавную букву и цифру":!1},gi=(t,e)=>(t??"")!==(e??"")?"Новые пароли не совпадают":!1,mi=t=>{const e=new RegExp("^(?!s*$).+");return t!=null&&t.match(e)?!1:"Сообщение не должно быть пустым"},E={login:ui,name:ci,displayName:pi,email:hi,phone:di,password:fi,repeatPassword:gi,message:mi};class vi{constructor(e,r,n){this._pathname=e,this._blockClass=r,this._block=null,this._props=n}navigate(e){this.match(e)&&(this._pathname=e,this.render())}leave(){this._block&&(this._block.hide(),this._block.componentWillUnmount())}match(e){return oi(e,this._pathname)}render(){if(!this._block){this._block=new this._blockClass,li(this._props.rootQuery,this._block);return}this._block.show()}}const F={rootQuery:"main"};class O{constructor(e){e||(e=F);const{rootQuery:r}=e;if(O.__instance)return O.__instance;this.routes=[],this.history=window.history,this._currentRoute=null,this._rootQuery=r,O.__instance=this}use(e,r){const n=new vi(e,r,{rootQuery:this._rootQuery});return this.routes.push(n),this}start(){window.onpopstate=e=>{var r;this._onRoute((r=e.currentTarget)==null?void 0:r.location.pathname)},this._onRoute(window.location.pathname)}_onRoute(e){const r=this.getRoute(e);this._currentRoute&&this._currentRoute.leave(),r&&(this._currentRoute=r,r.render())}go(e){this.history.pushState({},"",e),this._onRoute(e)}back(){this.history.back()}forward(){this.history.forward()}getRoute(e){return this.routes.find(r=>r.match(e))}}class _i extends L{constructor(){const e=new O(F);super({events:{click:()=>e.go("/profile")}})}render(){return`
      <div class="chat-navigation-header__profile-wrapper">
        <span class="chat-navigation-header__profile-label">Профиль</span>
        <img src={{icons "icon-forward"}} alt="forward">
      </div>
    `}}A("NavigationInput",ai);A("NavigationProfile",_i);class yi extends L{constructor(){super({onKeyUp:e=>{var r;e.key==="Enter"&&console.log((r=this.refs.navigation_input.element)==null?void 0:r.value)}})}render(){return`
      <div class="chat-navigation-header">
        <div class="chat-navigation-header__profile">
          {{{ NavigationProfile }}}
        </div>
        <div class="chat-navigation-search-wrapper">
            {{{ NavigationInput ref="navigation_input" onKeyUp=onKeyUp }}}
            <label for="chat-navigation-search" class="chat-navigation-search-label">
                <img src={{icons "icon-search"}} alt="search">
                <span class="chat-navigation-search-label__text">Поиск</span>
            </label>
        </div>
      </div>
    `}}class wi extends L{constructor(e){super({...e,onSelect:e.onSelect})}render(){const{chats:e,selectedId:r}=this.props;return`
    <div class="chat-list">
      ${e.map(({id:n,user:p,message:h,date:d,messageNumber:u})=>`{{{ ChatElement 
             id='${n}'
             user='${p}'
             message='${h}'
             date='${d}'
             messageNumber='${u}' 
             currentChat='${n===r}'
             onClick=onSelect
          }}}`).join("")}
    </div>
    `}}class Si extends L{constructor(e){super({...e,events:{click:()=>e.onClick(e.id)}})}render(){const{id:e,user:r,message:n,date:p,messageNumber:h,currentChat:d}=this.props,u=d==="true",a=Wt(new Date(p)),c=+(h??0)?`<div class="chat-element__info-number">${h}</div>`:"";return`
      <div id=${e} class="chat-element ${u?"chat-element--selected":""}">
        {{{ Divider }}}
        <div class="chat-element__content">
            <div class="chat-element__avatar"></div>
            <div class="chat-element__message">
                <div class="chat-element__message-user">
                  ${r}
                </div>
                <div class="chat-element__message-text">
                  ${n}
                </div>
            </div>
            <div class="chat-element__info">
                <div class="chat-element__info-date">${a}</div>
                ${c}
            </div>
        </div>
      </div>
    `}}class bi extends L{constructor(e){super(e)}render(){return`
      <div class="chat-main-header">
        <div class="chat-main-header__profile">
            <div class="chat-main-header__profile-avatar"></div>
            <div class="chat-main-header__profile-name">
                {{current_user}}
            </div>
        </div>
        <div class="chat-main-header__controls">
            <div 
                class="chat-main-header__control-wrapper"
                onclick="getElementById('popup-change-lobby').classList.toggle('popup--opened')"
            >
                {{{ ChatControl 
                    style="chat-main-header__expand"
                    icon-name="icon-expand"
                }}}
            </div>
        </div>
      </div>
    `}}class Ci extends L{constructor(e){super(e)}render(){const{messages:e}=this.props;return`
      <div class="chat-main-body">
        {{#each messages}}
            
        {{/each}}
        ${e.map(n=>({...n,date:Wt(n.date)})).map(({id:n,message:p,date:h,isYours:d})=>`
          <div 
                class='chat-main-body__message ${d&&"chat-main-body__message--yours"}'
                key=${n}
            >
                <div class="chat-main-body__message-text">
                    ${p}
                </div>
                <div class="chat-main-body__message-date">
                    ${h}
                </div>
          </div>
          `).join("")}
      </div>
    `}}class ki extends L{constructor(e){super({...e,events:{keyup:e.onKeyUp}})}render(){return`
      <input 
        class="chat-main-controls__input-component"
        type="text"
        placeholder="Сообщение"
      >
    `}}class Ei extends L{constructor(e){super({...e,events:{click:e.onSubmit}})}render(){return`
      <div class="chat-main-controls__send">
        <img src={{icons "icon-send"}} alt="send">
      </div>
    `}}A("MainControlInput",ki);A("MainControlButton",Ei);const Ct=t=>{const e=E.message(t);if(e){console.log(e);return}console.log(t)};class Li extends L{constructor(){super({onKeyUp:e=>{var r;if(e.key==="Enter"){const n=(r=this.refs.main_control_input.element)==null?void 0:r.value;Ct(n)}},onSubmit:()=>{var r;const e=(r=this.refs.main_control_input.element)==null?void 0:r.value;Ct(e)}})}render(){return`
      <div class="chat-main-controls">
        {{{ ChatControl style="chat-main-controls__pin" icon-name="icon-pin" }}}
        <div class="chat-main-controls__input">
            {{{ MainControlInput ref="main_control_input" onKeyUp=onKeyUp }}}
        </div>
        {{{ MainControlButton ref="main_control_button" onSubmit=onSubmit }}}
      </div>
    `}}class Pi extends L{constructor(e){super(e)}render(){const{style:e}=this.props;return`
      <div class="${e??""} chat-control">
        <img class="chat-control__icon" src={{icons icon-name}} alt={{icon-name}}>
      </div>
    `}}const xi="data:image/svg+xml,%3csvg%20width='16'%20height='16'%20viewBox='-2%20-2%2016%2016'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cline%20x1='5.99988'%20y1='0.5'%20x2='5.99988'%20y2='11.5'%20stroke='%233369F3'%20stroke-width='1.5'/%3e%3cline%20x1='0.499878'%20y1='6'%20x2='11.4999'%20y2='6'%20stroke='%233369F3'%20stroke-width='1.5'/%3e%3c/svg%3e",Mi="data:image/svg+xml,%3csvg%20width='40'%20height='40'%20viewBox='0%200%2040%2040'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M36%202H4C2.89543%202%202%202.89543%202%204V25.2667L14.6547%2022.3139C15.5486%2022.1053%2016.4635%2022%2017.3814%2022H22.6186C23.5365%2022%2024.4514%2022.1053%2025.3453%2022.3139L38%2025.2667V4C38%202.89543%2037.1046%202%2036%202ZM4%200C1.79086%200%200%201.79086%200%204V36C0%2038.2091%201.79086%2040%204%2040H36C38.2091%2040%2040%2038.2091%2040%2036V4C40%201.79086%2038.2091%200%2036%200H4ZM10.9091%2014.5455C12.9174%2014.5455%2014.5455%2012.9174%2014.5455%2010.9091C14.5455%208.90079%2012.9174%207.27273%2010.9091%207.27273C8.90082%207.27273%207.27276%208.90079%207.27276%2010.9091C7.27276%2012.9174%208.90082%2014.5455%2010.9091%2014.5455Z'%20fill='%23CDCDCD'/%3e%3c/svg%3e",Ai="data:image/svg+xml,%3csvg%20width='28'%20height='28'%20viewBox='0%200%2028%2028'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20cx='14'%20cy='14'%20r='14'%20transform='rotate(-180%2014%2014)'%20fill='%233369F3'/%3e%3crect%20x='20'%20y='14.8'%20width='11'%20height='1.6'%20transform='rotate(-180%2020%2014.8)'%20fill='white'/%3e%3cpath%20d='M13%2019L9%2014L13%209'%20stroke='white'%20stroke-width='1.6'/%3e%3c/svg%3e",Oi="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20viewBox='0,0,256,256'%20width='30px'%20height='30px'%3e%3cg%20fill='%23999999'%20fill-rule='nonzero'%20stroke='none'%20stroke-width='1'%20stroke-linecap='butt'%20stroke-linejoin='miter'%20stroke-miterlimit='10'%20stroke-dasharray=''%20stroke-dashoffset='0'%20font-family='none'%20font-weight='none'%20font-size='none'%20text-anchor='none'%20style='mix-blend-mode:%20normal'%3e%3cg%20transform='scale(8.53333,8.53333)'%3e%3cpath%20d='M7,4c-0.25587,0%20-0.51203,0.09747%20-0.70703,0.29297l-2,2c-0.391,0.391%20-0.391,1.02406%200,1.41406l7.29297,7.29297l-7.29297,7.29297c-0.391,0.391%20-0.391,1.02406%200,1.41406l2,2c0.391,0.391%201.02406,0.391%201.41406,0l7.29297,-7.29297l7.29297,7.29297c0.39,0.391%201.02406,0.391%201.41406,0l2,-2c0.391,-0.391%200.391,-1.02406%200,-1.41406l-7.29297,-7.29297l7.29297,-7.29297c0.391,-0.39%200.391,-1.02406%200,-1.41406l-2,-2c-0.391,-0.391%20-1.02406,-0.391%20-1.41406,0l-7.29297,7.29297l-7.29297,-7.29297c-0.1955,-0.1955%20-0.45116,-0.29297%20-0.70703,-0.29297z'%3e%3c/path%3e%3c/g%3e%3c/g%3e%3c/svg%3e",Ni="data:image/svg+xml,%3csvg%20width='16'%20height='16'%20viewBox='0%200%2016%2016'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cline%20x1='4.11077'%20y1='4.11103'%20x2='11.8889'%20y2='11.8892'%20stroke='%233369F3'%20stroke-width='1.5'/%3e%3cline%20x1='4.11078'%20y1='11.8891'%20x2='11.889'%20y2='4.11093'%20stroke='%233369F3'%20stroke-width='1.5'/%3e%3c/svg%3e",Ii="data:image/svg+xml,%3csvg%20width='3'%20height='16'%20viewBox='0%200%203%2016'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20cx='1.5'%20cy='2'%20r='1.5'%20fill='%231E1E1E'/%3e%3ccircle%20cx='1.5'%20cy='8'%20r='1.5'%20fill='%231E1E1E'/%3e%3ccircle%20cx='1.5'%20cy='14'%20r='1.5'%20fill='%231E1E1E'/%3e%3c/svg%3e",Di="data:image/svg+xml,%3csvg%20width='6'%20height='10'%20viewBox='0%200%206%2010'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M1%209L5%205L1%201'%20stroke='%23999999'/%3e%3c/svg%3e",Ri="data:image/svg+xml,%3csvg%20width='32'%20height='32'%20viewBox='0%200%2032%2032'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M7.18662%2013.5L14.7628%205.92389L15.7056%206.8667L8.12943%2014.4428L7.18662%2013.5Z'%20fill='%23999999'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M9.70067%2016.0141L17.2768%208.43793L18.2196%209.38074L10.6435%2016.9569L9.70067%2016.0141Z'%20fill='%23999999'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M15.0433%2021.3567L22.6195%2013.7806L23.5623%2014.7234L15.9861%2022.2995L15.0433%2021.3567Z'%20fill='%23999999'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M17.5574%2023.8708L25.1335%2016.2946L26.0763%2017.2374L18.5002%2024.8136L17.5574%2023.8708Z'%20fill='%23999999'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M17.5574%2023.8709C14.9423%2026.486%2010.7118%2026.4954%208.10831%2023.8919C5.50482%2021.2884%205.51424%2017.0579%208.12936%2014.4428L7.18655%2013.5C4.0484%2016.6381%204.0371%2021.7148%207.16129%2024.839C10.2855%2027.9632%2015.3621%2027.9518%2018.5003%2024.8137L17.5574%2023.8709Z'%20fill='%23999999'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M22.6195%2013.7806L23.5623%2014.7234C26.003%2012.2826%2026.0118%208.3341%2023.5819%205.90417C21.152%203.47424%2017.2035%203.48303%2014.7627%205.92381L15.7055%206.86662C17.6233%204.94887%2020.7257%204.94196%2022.6349%206.85119C24.5441%208.76042%2024.5372%2011.8628%2022.6195%2013.7806Z'%20fill='%23999999'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M9.70092%2016.0144C7.95751%2017.7578%207.95123%2020.5782%209.68689%2022.3138C11.4226%2024.0495%2014.2429%2024.0432%2015.9863%2022.2998L15.0435%2021.357C13.8231%2022.5774%2011.8489%2022.5818%2010.6339%2021.3668C9.41894%2020.1518%209.42334%2018.1776%2010.6437%2016.9572L9.70092%2016.0144Z'%20fill='%23999999'/%3e%3c/svg%3e",Bi="data:image/svg+xml,%3csvg%20width='20'%20height='20'%20viewBox='0%200%2020%2020'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M11.5924%2011.4138C10.1605%2012.8457%207.83886%2012.8457%206.40694%2011.4138C4.97502%209.9819%204.97502%207.6603%206.40694%206.22837C7.83886%204.79645%2010.1605%204.79645%2011.5924%206.22837C13.0243%207.6603%2013.0243%209.9819%2011.5924%2011.4138ZM12.0328%2012.7968C10.0725%2014.2962%207.25696%2014.1495%205.46413%2012.3566C3.51151%2010.404%203.51151%207.23819%205.46413%205.28556C7.41675%203.33294%2010.5826%203.33294%2012.5352%205.28556C14.3279%207.07831%2014.4747%209.89373%2012.9755%2011.8539L16.5423%2015.4206L15.5994%2016.3635L12.0328%2012.7968Z'%20fill='%23999999'/%3e%3c/svg%3e",Ti="data:image/svg+xml,%3csvg%20width='28'%20height='28'%20viewBox='0%200%2028%2028'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20cx='14'%20cy='14'%20r='14'%20fill='%233369F3'/%3e%3crect%20x='8'%20y='13.2'%20width='11'%20height='1.6'%20fill='white'/%3e%3cpath%20d='M15%209L19%2014L15%2019'%20stroke='white'%20stroke-width='1.6'/%3e%3c/svg%3e",Hi=()=>{const t={"icon-avatar":Mi,"icon-add":xi,"icon-back":Ai,"icon-close":Oi,"icon-delete":Ni,"icon-expand":Ii,"icon-forward":Di,"icon-pin":Ri,"icon-search":Bi,"icon-send":Ti};U.registerHelper("defaultValue",function(e,r){var n=e||r;return new U.SafeString(n)}),U.registerHelper("ifEquals",(e,r,n)=>e==r?n.fn(void 0):n.inverse(void 0)),U.registerHelper("ifNotEqual",(e,r,n)=>e!=r?n.fn(void 0):n.inverse(void 0)),U.registerHelper("icons",function(e){return t[e]})};class qi extends L{constructor(){const e=new O(F);super({onClick:()=>e.go("/chats")})}render(){return`
      {{#> CenterLayout}}
        <div class="page-info">
          <div class="page-info__title">500</div>
          <div class="page-info__text">Мы уже фиксим</div>
          {{{ Button label="Назад к чатам" type="link" onClick=onClick }}}
        </div>
      {{/ CenterLayout}}
    `}}class Ui extends L{constructor(){const e=new O(F);super({onClick:()=>e.go("/chats")})}render(){return`
      {{#> CenterLayout}}
        <div class="page-info">
          <div class="page-info__title">404</div>
          <div class="page-info__text">Не туда попали</div>
          {{{ Button page='chat' label="Назад к чатам" type="link" onClick=onClick }}}
        </div>
      {{/ CenterLayout}}
    `}}const Fi="https://ya-praktikum.tech/api/v2",$={GET:"GET",PUT:"PUT",POST:"POST",DELETE:"DELETE"};function Vi(t){const e=[];return Object.entries(t??{}).forEach(r=>{const[n,p]=r;e.push(`${n}=${p.toString()}`)}),`?${e.join("&")}`}class st{constructor(e){this._apiUrl="",this.get=(r,n)=>this.request(`${this._apiUrl}${r}${n!=null&&n.data?Vi(n==null?void 0:n.data):""}`,{...n,method:$.GET},n==null?void 0:n.timeout),this.put=(r,n)=>this.request(`${this._apiUrl}${r}`,{...n,method:$.PUT},n==null?void 0:n.timeout),this.post=(r,n)=>this.request(`${this._apiUrl}${r}`,{...n,method:$.POST},n==null?void 0:n.timeout),this.delete=(r,n)=>this.request(`${this._apiUrl}${r}`,{...n,method:$.DELETE},n==null?void 0:n.timeout),this.request=(r,n,p=5e3)=>{const{method:h,data:d,isFormData:u,responseType:a}=n;return new Promise((c,o)=>{const f=new XMLHttpRequest;if(f.open(h,r),f.onload=function(){c(f)},f.onabort=o,f.onerror=o,f.ontimeout=o,f.timeout=p,f.withCredentials=!0,f.responseType=a??"json",u){f.send(d);return}f.setRequestHeader("Content-Type","application/json"),h===$.GET||!d?f.send():f.send(JSON.stringify(d))})},this._apiUrl=`${Fi}${e}`}}const le=new st("/auth");class ue{static async login(e){return le.post("/signin",{data:e})}static async register(e){return le.post("/signup",{data:e})}static async me(){return le.get("/user")}static async logout(){return le.post("/logout")}}function G(t){return t==null?void 0:t.reason}const je=t=>({id:t.id,login:t.login,firstName:t.first_name,secondName:t.second_name,displayName:t.display_name,avatar:t.avatar,phone:t.phone,email:t.email});class fe{static async getUser(){const e=await ue.me();if(G(e.response))throw Error(e.response.reason);return je(e.response)}static async login(e){const{response:r}=await ue.login(e);if(G(r))throw Error(r.reason);const n=await this.getUser();window.store.set({user:n}),new O().go("/profile")}static async register(e){const{response:r}=await ue.register(e);if(G(r))throw new Error(r.reason);const n=await this.getUser();window.store.set({user:n}),new O().go("/profile")}static async logout(){const{response:e}=await ue.logout();if(G(e))throw new Error(e.reason);new O().go("/login")}}const Ee=new st("/user");class Le{static async editProfile(e){return Ee.put("/profile",{data:e})}static async editPassword(e){return Ee.put("/password",{data:e})}static async editAvatar(e){return Ee.put("/profile/avatar",{data:e,isFormData:!0})}}class at{static async editProfile(e){const{response:r}=await Le.editProfile(e);if(G(r))throw Error(r.reason);const n=je(r);window.store.set({user:n}),new O().go("/profile")}static async editPassword(e){const{response:r}=await Le.editAvatar(e);if(G(r))throw Error(r.reason);new O().go("/profile")}static async editAvatar(){var d;const e=new FormData,n=(d=document.getElementById("avatar").files)==null?void 0:d[0];if(!n)throw new Error("Выберите файл!");e.append("avatar",n);const{response:p}=await Le.editAvatar(e);if(G(p))throw Error(p.reason);const h=je(p);window.store.set({user:h})}}const Wi=new st("/resources");class Gi{static async getResource(e){return Wi.get(`/${e}`,{responseType:"blob"})}}class Ki{static async getAvatar(e){if(!e)return;const{response:r}=await Gi.getResource(e);if(r.reason)throw new Error("Аватар отсутствует");const n=window.URL.createObjectURL(r);return window.store.set({avatarHref:n}),n}}class zi extends L{constructor(){const e=new O(F);super({navigateRegister:()=>e.go("/register"),onLogin:()=>{const r=this.refs.login.value(),n=this.refs.password.value();!r||!n||fe.login({login:r,password:n}).catch(p=>this.refs.error.setProps({error:p}))},validateField:r=>r.length?!1:"Поле не должно быть пустым"})}componentWillUnmount(){this.refs.login.resetValue(),this.refs.password.resetValue(),this.refs.error.setProps({error:!1})}render(){return`
      {{#> CenterLayout }}
        {{#> FormLayout }}
            <div class="form-info login-page">
                <div class="form-info__title">Войти</div>
                <form id="login-form">
                  <div class="form-info__inputs">
                    {{{ Input 
                        label="Логин"
                        id="login"
                        ref="login"
                        placeholder="введите логин"
                        validate=validateField
                    }}}
                    {{{ Input 
                        label="Пароль" 
                        id="password"
                        ref="password"
                        placeholder="введите пароль"
                        type="password"
                        validate=validateField
                    }}}
                  </div>
                  <div class="form-info__buttons">
                    {{{ ErrorMessage error=error ref="error" }}}
                    {{{ Button
                        label="Авторизоваться"
                        page="chat"
                        onClick=onLogin
                        action="submit"
                        id="login-form"
                    }}}
                    {{{ Button
                        label="Нет аккаунта?"
                        page="register"
                        type="link"
                        onClick=navigateRegister
                    }}}
                  </div>
                </form>
            </div>
        {{/ FormLayout }}
      {{/ CenterLayout }}
    `}}class Yi extends L{constructor(){const e=new O(F);super({navigateLogin:()=>e.go("/login"),validateEmail:E.email,validateLogin:E.login,validateName:E.name,validateSecondName:E.name,validatePhone:E.phone,validatePassword:E.password,validateRepeatPassword:r=>{const n=E.password(r);if(n)return n;const p=E.repeatPassword(r,this.refs.password.value());return p||!1},onRegister:()=>{const r={email:this.refs.email.value(),login:this.refs.login.value(),first_name:this.refs.first_name.value(),second_name:this.refs.second_name.value(),phone:this.refs.phone.value(),password:this.refs.password.value()},n=this.refs.repeat_password.value();!E.email(r.email)&&!E.login(r.login)&&!E.name(r.first_name)&&!E.name(r.second_name)&&!E.phone(r.phone)&&!E.password(r.password)&&!E.password(n)&&!E.repeatPassword(r.password,n)&&fe.register(r).catch(p=>this.refs.error.setProps({error:p}))}})}render(){return`
      {{#> CenterLayout }}
        {{#> FormLayout }}
            <div class="form-info register-page">
                <div class="form-info__title">Регистрация</div>
                <form id="register-form">
                  <div class="form-info__inputs">
                    {{{ Input 
                        label="Почта"
                        id="email"
                        ref="email"
                        placeholder="введите почту"
                        validate=validateEmail
                    }}}
                    {{{ Input 
                        label="Логин" 
                        id="login"
                        ref="login"
                        placeholder="введите логин"
                        validate=validateLogin
                    }}}
                    {{{ Input 
                        label="Имя" 
                        id="first_name"
                        ref="first_name"
                        placeholder="введите имя"
                        validate=validateName
                    }}}
                    {{{ Input 
                        label="Фамилия"
                        id="second_name"
                        ref="second_name"
                        placeholder="введите фамилию"
                        validate=validateName
                    }}}
                    {{{ Input 
                        label="Телефон" 
                        id="phone"
                        ref="phone"
                        placeholder="введите номер телефона"
                        validate=validatePhone
                    }}}
                    {{{ Input 
                        label="Пароль"
                        id="password"
                        ref="password"
                        placeholder="введите пароль"
                        type="password"
                        validate=validatePassword
                    }}}
                    {{{ Input 
                        label="Пароль (еще раз)"
                        id="repeat_password"
                        ref="repeat_password"
                        placeholder="повторите пароль"
                        type="password"
                        validate=validateRepeatPassword
                    }}}
                  </div>
                  <div class="form-info__buttons">
                    {{{ ErrorMessage error=error ref="error" }}}
                    {{{ Button
                        label="Зарегистрироваться"
                        page="register"
                        onClick=onRegister
                        action="submit"
                        id="register-form"
                    }}}
                    {{{ Button
                        label="Войти"
                        page="login"
                        type="link"
                        onClick=navigateLogin
                    }}}
                  </div>
                </form>
            </div>
        {{/ FormLayout }}
      {{/ CenterLayout }}
    `}}var Xe=(t=>(t.Updated="Updated",t))(Xe||{});class Zi extends Lt{constructor(e){super(),this.state={},this.state=e,this.set(e)}getState(){return this.state}set(e){const r={...this.state};this.state={...this.state,...e},this.emit("Updated",r,e)}}function Qi(t){return typeof t=="object"&&t!==null&&t.constructor===Object&&Object.prototype.toString.call(t)==="[object Object]"}function Ji(t){return Array.isArray(t)}function kt(t){return Qi(t)||Ji(t)}function Gt(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const[r,n]of Object.entries(t)){const p=e[r];if(kt(n)&&kt(p)){if(Gt(n,p))continue;return!1}if(n!==p)return!1}return!0}function ge(t){return function(e){return class extends e{constructor(r){const n=window.store;let p=t(n.getState());super({...r,...p}),this.onChangeStoreCallback=()=>{const h=t(n.getState());Gt(p,h)||this.setProps({...h}),p=h},n.on(Xe.Updated,this.onChangeStoreCallback)}componentWillUnmount(){super.componentWillUnmount(),window.store.off(Xe.Updated,this.onChangeStoreCallback)}}}}class ji extends L{constructor(e){super({...e})}setError(e){this.refs.error.setProps({error:e})}render(){return`
      {{#Modal id="profile-modal-add-avatar" open=isOpenEditAvatarModal }}
          <div class="modal__background"></div>
          <div class="modal__content">
              {{{ AvatarModalCloseButton onClose=onClose }}}
              <div class="profile-modal-add-avatar__title">Загрузите файл</div>
              <input type="file" id="avatar" name="avatar" accept="image/png, image/jpeg" />
              {{{ ErrorLine ref="error" error=error }}}
              <div "profile-modal-add-avatar__control">
                {{{ Button label="Поменять" page="profile" onClick=onSave }}}
              </div>
            </div>
          </div>
      {{/ Modal }}
    `}}const Xi=ge(({isOpenEditAvatarModal:t})=>({isOpenEditAvatarModal:t}))(ji);class $i extends L{constructor(e){super(e)}init(){this.props.events={click:this.props.onClick??(()=>{})}}render(){return`
      <div class="profile-page__avatar-image">
        <img src=${this.props.avatarHref??"{{icons 'icon-avatar'}}"} alt='avatar'>
        <div class="profile-page__avatar-image-text">
          Поменять аватар
        </div>
      </div>
    `}}const es=ge(({avatarHref:t})=>({avatarHref:t}))($i);class ts extends L{constructor(e){super({...e,events:{click:e.onClose}})}render(){return`
      <div class="modal__close">
        <img src={{icons "icon-close"}} alt="close">
      </div>
    `}}const rs="Имя в чате не определено";class ns extends L{constructor(e){const r=new O(F);super({...e,navigateProfileEditPage:()=>r.go("/profile/edit-fields"),navigatePasswordEditPage:()=>r.go("/profile/edit-password"),navigatePage404:()=>r.go("/page-404"),navigatePage500:()=>r.go("/page-500"),navigateChat:()=>r.go("/chats"),validateLoginField:n=>E.login(n),openAvatarModal:()=>window.store.set({isOpenEditAvatarModal:!0}),closeAvatarModal:()=>window.store.set({isOpenEditAvatarModal:!1}),onSaveAvatar:()=>at.editAvatar().catch(n=>this.refs.avatarModal.setError(n)),navigateLogOut:()=>fe.logout()})}render(){var r;return`
      <div class="profile-page">
        {{{ ButtonBack onClick=navigateChat }}}
            {{#> CenterLayout}}
                <div class="profile-page__content">
                    <div class="profile-page__avatar">
                        {{{ AvatarButton onClick=openAvatarModal }}}
                        <div class="profile-page__avatar-name">
                            ${((r=window.store.getState().user)==null?void 0:r.displayName)??rs}
                        </div>
                    </div>
                    <div class="profile-page__inputs">
                        {{{ Input 
                            label="Почта" 
                            value=user.email
                            id="email"
                            placeholder="-"
                            styleType="profile"
                            disabled="true"
                        }}}
                        {{{ Input 
                            label="Логин" 
                            value=user.login
                            id="login"
                            ref="login"
                            placeholder="-"
                            styleType="profile"
                            validate=validateLoginField
                            disabled="true"
                        }}}
                        {{{ Input 
                            label="Имя" 
                            value=user.firstName
                            id="first_name"
                            placeholder="-"
                            styleType="profile"
                            disabled="true"
                        }}}
                        {{{ Input 
                            label="Фамилия" 
                            value=user.secondName
                            id="second_name"
                            placeholder="-"
                            styleType="profile"
                            disabled="true"
                        }}}
                        {{{ Input 
                            label="Имя в чате" 
                            value=user.displayName
                            id="display_name"
                            placeholder="-"
                            styleType="profile"
                            disabled="true"
                        }}}
                        {{{ Input 
                            label="Телефон" 
                            value=user.phone
                            id="phone"
                            placeholder="-"
                            styleType="profile"
                            disabled="true"
                        }}}
                    </div>
                    <div class="profile-page__buttons">
                        {{{ Button
                            type="link"
                            label="Изменить данные"
                            onClick=navigateProfileEditPage
                        }}}
                        {{{ Divider }}}
                        {{{ Button
                            type="link"
                            label="Изменить пароль"
                            onClick=navigatePasswordEditPage
                        }}}
                        {{{ Divider }}}
                        {{{ Button
                            type="link"
                            label="Выйти"
                            color="red"
                            onClick=navigateLogOut
                        }}}
                        {{{ Divider }}}
                        <div>Временные кнопки для перехода на 404 и 500 страницы, будут удалены после ревью</div>
                        {{{ Divider }}}
                        {{{ Button
                            type="link"
                            label="404 ошибка"
                            color="red"
                            onClick=navigatePage404
                        }}}
                        {{{ Divider }}}
                        {{{ Button
                            type="link"
                            label="500 ошибка"
                            color="red"
                            onClick=navigatePage500
                        }}}
                    </div>
                </div>
            {{/CenterLayout}}
            {{{ AvatarModal onSave=onSaveAvatar onClose=closeAvatarModal ref="avatarModal" }}}
        </div>
      `}}const is=ge(({user:t})=>({user:t}))(ns);A("AvatarModal",Xi);A("AvatarButton",es);A("AvatarModalCloseButton",ts);class ss extends L{constructor(e){const r=new O(F);super({...e,navigateBack:()=>r.go("/profile"),onSave:()=>{const n={email:this.refs.email.value(),login:this.refs.login.value(),first_name:this.refs.first_name.value(),second_name:this.refs.second_name.value(),display_name:this.refs.display_name.value(),phone:this.refs.phone.value()};!E.login(n.login)&&!E.email(n.email)&&!E.name(n.first_name)&&!E.name(n.second_name)&&!E.displayName(n.display_name)&&!E.phone(n.phone)&&at.editProfile(n).catch(p=>this.refs.error.setProps({error:p}))},validateLogin:E.login,validateName:E.name,validateDisplayName:E.displayName,validateEmail:E.email,validatePhone:E.phone})}render(){return`
        <div class="profile-page profile-page--edit-fields">
            {{{ ButtonBack onClick=navigateBack }}}
            {{#> CenterLayout}}
                <div class="profile-page__content">
                    <div class="profile-page__avatar">
                        <div class="profile-page__avatar-image">
                            <img src={{icons "icon-avatar"}} alt="avatar">
                        </div>
                    </div>
                    <form class="profile-page__form" id="profile-edit-fields-page">
                      <div class="profile-page__inputs">
                      {{{ Input 
                          label="Почта" 
                          value=user.email
                          id="email"
                          ref="email"
                          placeholder="введите почту"
                          styleType="profile"
                          validate=validateEmail
                      }}}
                      {{{ Input 
                          label="Логин" 
                          value=user.login
                          id="login"
                          ref="login"
                          placeholder="введите логин"
                          styleType="profile"
                          validate=validateLogin
                      }}}
                      {{{ Input 
                          label="Имя" 
                          value=user.firstName
                          id="first_name"
                          ref="first_name"
                          placeholder="введите имя"
                          styleType="profile"
                          validate=validateName
                      }}}
                      {{{ Input 
                          label="Фамилия" 
                          value=user.secondName
                          id="second_name"
                          ref="second_name"
                          placeholder="введите фамилию"
                          styleType="profile"
                          validate=validateName
                      }}}
                      {{{ Input 
                          label="Имя в чате" 
                          value=user.displayName
                          id="displayName"
                          ref="display_name"
                          placeholder="введите имя"
                          styleType="profile"
                          validate=validateDisplayName
                      }}}
                      {{{ Input 
                          label="Телефон" 
                          value=user.phone
                          id="phone"
                          ref="phone"
                          placeholder="введите номер телефона"
                          styleType="profile"
                          validate=validatePhone
                      }}}
                      </div>
                      <div class="profile-page__buttons">
                        {{{ ErrorMessage ref="error" error=error }}}
                        {{{ Button
                            label="Сохранить"
                            onClick=onSave
                            action="submit"
                            form="profile-edit-fields-page"
                        }}}
                      </div>
                    </form>
                </div>
            {{/CenterLayout}}
        </div>  
      `}}const as=ge(({user:t})=>({user:t}))(ss);class os extends L{constructor(){const e=new O(F);super({navigateBack:()=>e.go("/profile"),onSave:()=>{const r=this.refs.old_password.value(),n=this.refs.new_password.value(),p=this.refs.repeat_new_password.value();!E.password(r)&&!E.password(n)&&!E.password(p)&&!E.repeatPassword(n,p)&&(console.log({oldPassword:r,newPassword:n,repeatNewPassword:p}),at.editPassword({oldPassword:r,newPassword:n}).catch(h=>this.refs.error.setProps({error:h})))},validatePassword:E.password,validateRepeatPassword:r=>{const n=E.password(r);if(n)return n;const p=E.repeatPassword(r,this.refs.new_password.value());return p||!1}})}componentWillUnmount(){this.refs.new_password.resetValue(),this.refs.repeat_new_password.resetValue(),this.refs.old_password.resetValue()}render(){return`
      <div class="profile-page profile-page--edit-password">
        {{{ ButtonBack onClick=navigateBack }}}
        {{#> CenterLayout}}
            <div class="profile-page__content">
                <div class="profile-page__avatar">
                    <div class="profile-page__avatar-image">
                        <img src={{icons "icon-avatar"}} alt="avatar">
                    </div>
                </div>
                <form class="profile-page__form" id="profile-edit-password-form">
                  <div class="profile-page__inputs">
                    {{{ Input 
                        label="Старый пароль" 
                        id="old_password"
                        ref="old_password"
                        placeholder="введите старый пароль"
                        styleType="profile"
                        type="password"
                        validate=validatePassword
                    }}}
                    {{{ Input
                        label="Новый пароль" 
                        id="new_password"
                        ref="new_password"
                        placeholder="введите новый пароль"
                        styleType="profile"
                        type="password"
                        validate=validatePassword
                    }}}
                    {{{ Input
                        label="Новый пароль еще раз" 
                        id="repeat_new_password"
                        ref="repeat_new_password"
                        placeholder="повторите новый пароль"
                        styleType="profile"
                        type="password"
                        validate=validateRepeatPassword
                    }}}
                  </div>
                  <div class="profile-page__buttons">
                    {{{ ErrorMessage ref="error" error=error }}}
                    {{{ Button
                        label="Сохранить"
                        onClick=onSave
                        action="submit"
                        form="profile-edit-password-form"
                    }}}
                  </div>
                </form>
            </div>
        {{/CenterLayout}}
      </div>
    `}}const ls=[{id:"chat_0",user:"Андрей",message:"Hello!",isLastMessageYours:!1,date:new Date("2023-12-24T12:12:12"),messageNumber:0},{id:"chat_1",user:"Киноклуб",message:"И тебе привет",isLastMessageYours:!0,date:new Date("2023-12-24T12:12:12"),messageNumber:3},{id:"chat_2",user:"Илья",message:"Твой сайт самый лучший, и ревьюер обязательно тебе об этом скажет! Кстати, передаю привет маме!",isLastMessageYours:!1,date:new Date("2023-12-24T12:12:12"),messageNumber:2},{id:"chat_3",user:"Андрей",message:"Hello!",isLastMessageYours:!1,date:new Date("2023-12-24T12:12:12"),messageNumber:0},{id:"chat_4",user:"Киноклуб",message:"И тебе привет",isLastMessageYours:!0,date:new Date("2023-12-24T12:12:12"),messageNumber:3},{id:"chat_5",user:"Андрей",message:"Hello!",isLastMessageYours:!1,date:new Date("2023-12-24T12:12:12"),messageNumber:0},{id:"chat_6",user:"Киноклуб",message:"И тебе привет",isLastMessageYours:!0,date:new Date("2023-12-24T12:12:12"),messageNumber:3},{id:"chat_7",user:"Андрей",message:"Hello!",isLastMessageYours:!1,date:new Date("2023-12-24T12:12:12"),messageNumber:0},{id:"chat_8",user:"Киноклуб",message:"И тебе привет",isLastMessageYours:!0,date:new Date("2023-12-24T12:12:12"),messageNumber:3},{id:"chat_9",user:"Андрей",message:"Hello!",isLastMessageYours:!1,date:new Date("2023-12-24T12:12:12"),messageNumber:0},{id:"chat_10",user:"Киноклуб",message:"И тебе привет",isLastMessageYours:!0,date:new Date("2023-12-24T12:12:12"),messageNumber:3},{id:"chat_11",user:"Андрей",message:"Hello!",isLastMessageYours:!1,date:new Date("2023-12-24T12:12:12"),messageNumber:0},{id:"chat_12",user:"Киноклуб",message:"И тебе привет",isLastMessageYours:!0,date:new Date("2023-12-24T12:12:12"),messageNumber:3}],Et={id:0,user:"Тайлер Дерден",messages:[{id:0,message:"Привет, как дела?",date:new Date("2023-12-24T12:12:00"),isYours:!1},{id:1,message:"все хорошо, дом недавно сгорел",date:new Date("2023-12-24T12:12:10"),isYours:!0},{id:2,message:"могу предложить расслабиться и сварить немного мыла",date:new Date("2023-12-24T12:13:00"),isYours:!1},{id:3,message:`Нет, вместо этого лучше вставить эти великие строки: Lorem ipsum
       dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt
       ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud
       exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. 
       Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu 
       fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa
       qui officia deserunt mollit anim id est laborum Lorem ipsum
       dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt
       ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud
       exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. 
       Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu 
       fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa
       qui officia deserunt mollit anim id est laborum Lorem ipsum
       dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt
       ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud
       exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. 
       Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu 
       fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa
       qui officia deserunt mollit anim id est laborum Lorem ipsum
       dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt
       ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud
       exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. 
       Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu 
       fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa
       qui officia deserunt mollit anim id est laborum Lorem ipsum
       dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt
       ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud
       exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. 
       Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu 
       fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa
       qui officia deserunt mollit anim id est laborum Lorem ipsum
       dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt
       ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud
       exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. 
       Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu 
       fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa
       qui officia deserunt mollit anim id est laborum Lorem ipsum`,date:new Date("2023-12-24T12:13:10"),isYours:!0},{id:4,message:"Красиво сказано",date:new Date("2023-12-24T12:14:00"),isYours:!1},{id:5,message:"тогда увидимся через пару минут!",date:new Date("2023-12-24T12:14:30"),isYours:!1}]};class us extends L{constructor(){super({chats:ls,currentUser:Et.user,messages:Et.messages,onSelect:e=>{this.refs.chat_list.setProps({selectedId:e}),console.log(`Был выбран чат с id ${e}`)}})}render(){return`
      <div class="chat-page">
        <div class="chat-page-navigation">
            <div class="chat-page-navigation__header">
                {{{ ChatNavigationHeader }}}
            </div>
            <div class="chat-page-navigation__chat-list">
                {{{ ChatList ref="chat_list" chats=chats onSelect=onSelect }}}
            </div>
        </div>
        <div class="chat-page-main">
            {{{ ChatMainHeader current_user=currentUser }}}
            {{{ Divider }}}
            {{{ ChatMainBody messages=messages }}}
            {{{ Divider }}}
            {{{ ChatMainControls }}}
        </div>
        {{#> Modal id="modal-add-user"}}
            <div class="chat-page__modal">
                <div>Добавить пользователя</div>
                {{{ Input label="Логин" id="login-add-user" }}}
                {{{ Button label="Добавить" }}}
            </div>
        {{/ Modal}}
        {{#> Modal id="modal-delete-user"}}
            <div class="chat-page__modal">
                <div>Удалить пользователя</div>
                {{{ Input label="Логин" id="login-delete-user" }}}
                {{{ Button label="Удалить" }}}
            </div>
        {{/ Modal}}
      </div>
    `}}const cs=async()=>{let t=null;const e=new O;try{t=await fe.getUser()}catch{e.go("/login");return}window.store.set({user:t}),await Ki.getAvatar(t.avatar);const r=location.pathname;if(!e.getRoute(r)){e.go("/profile");return}e.go(r)},ps={error:null,user:null,isOpenEditAvatarModal:!1,chats:[],avatarHref:null};window.store=new Zi(ps);Object.entries({...si}).forEach(([t,e])=>{U.registerPartial(t,e)});A("Button",Q.Button);A("ButtonBack",Q.ButtonBack);A("Divider",Q.Divider);A("ErrorMessage",Q.ErrorMessage);A("Input",Q.Input);A("Modal",Q.Modal);A("ChatControl",Pi);A("ChatElement",Si);A("ChatList",wi);A("ChatNavigationHeader",yi);A("ChatMainBody",Ci);A("ChatMainControls",Li);A("ChatMainHeader",bi);Hi();document.addEventListener("DOMContentLoaded",()=>{new O({rootQuery:"main"}).use("/profile",is).use("/profile/edit-fields",as).use("/profile/edit-password",os).use("/register",Yi).use("/login",zi).use("/page-404",Ui).use("/page-500",qi).use("/chats",us).start(),cs()});
